 <HTML>
    <HEAD>
    <meta name="author" content="Leonardo de Moura" />
    <meta name="author" content="Nikolaj Bjorner" />
    <meta name="description" content="Z3: theorem prover" />
    <meta name="keywords" content="decision procedure, theorem prover, SMT-LIB, SMTLIB, SMT LIB, SMT Solver, SMTCOMP, SMT-COMP, SAT solver, formal methods, constraint solver, software verification, hardware verification" />
      <TITLE>Z3: Theorem Prover</TITLE>
      <LINK HREF="z3.css" REL="stylesheet" TYPE="text/css">
      <LINK href="tabs.css" rel="stylesheet" type="text/css">
    </HEAD>
<BODY BGCOLOR="#FFFFFF">

<table>
<tr>
<th style="width:120px"><a style="border=0px" class="el" href="index.html"><img border="0" src="z3.png" alt="Z3" /></a></th>
<th style="width:100%">
<div id="nav">
<ul>
<li><a href="download.html">Download</a></li>
<li>/</li>
<li><a href="documentation.html#tutorial">Tutorials</a></li>
<li>/</li>
<li><a href="documentation.html">Documentation</a></li>
<li>/</li>
<li><a href="mail.html">Contact</a></li>
<li>/</li>
<li><a href="faq.html">FAQ</a></li>
<li>/</li>
<li><a href="awards.html">Awards</a></li>
<li>/</li>
<li><a href="http://research.microsoft.com/en-us/groups/rise/default.aspx">RiSE</a></li>
</ul>
</div>
</th>
<th style="width:120px">
<a style="border=0px" class="el" href="http://research.microsoft.com"><img border="0" src="logo_msr.gif" alt="Microsoft Research" />
</th>
</tr>
</table>

<!-- <p> -->
<!-- <img align="middle" src="z3.png" alt="Z3" /> -->
<!-- <table class="centered-small"> -->
<!--   <tr> -->
<!--     <th><a href="index.html"><span>Home</span></a></th> -->
<!--     <th> &bull; </th> -->
<!--     <th><a href="documentation.html"><span>Docs</span></a></th> -->
<!--     <th> &bull; </th> -->
<!--     <th><a href="download.html"><span>Download</span></a></th> -->
<!--     <th> &bull; </th> -->
<!--     <th><a href="mail.html"><span>Mail</span></a></th> -->
<!--     <th> &bull; </th> -->
<!--     <th><a href="faq.html"><span>FAQ</span></a></th> -->
<!--     <th> &bull; </th> -->
<!--     <th><a href="awards.html"><span>Awards</span></a></th> -->
<!--     <th> &bull; </th> -->
<!--     <th><a href="http://research.microsoft.com/en-us/groups/rise/default.aspx"><span>RiSE</span></a></th> -->
<!--     <th> &bull; </th> -->
<!--     <th><a href="http://research.microsoft.com"><span>MSR</span></a></th> -->
<!--   </tr> -->
<!-- </table> -->
<!-- </p> -->

<!-- Generated by Doxygen 1.6.3 -->
<div class="contents">


<h1><a class="anchor" id="releasenotes">Release Notes </a></h1><h2><a class="anchor" id="sec_release_z3_4_1">
Z3 4.1</a></h2>
<ul>
<li>New OCAML API (Many thanks to Josh Berdine)</li>
</ul>
<ul>
<li>CodeContracts in the .NET API (Many thanks to Francesco Logozzo). Users can now check whether they are using the .NET API correctly using <a href="http://msdn.microsoft.com/en-us/devlabs/dd491992">Clousot</a>.</li>
</ul>
<ul>
<li>Added option :error-behavior. The default value is continued-execution. Now, users can force the Z3 SMT 2.0 frontend to exit whenever an error is reported. They just have to use the command (set-option :error-behavior immediate-exit).</li>
</ul>
<ul>
<li>Fixed bug in term-if-then-else elimination (Thanks to Artur Niewiadomski).</li>
</ul>
<ul>
<li>Fixed bug in difference logic detection code (Thanks to Dejan Jovanovic).</li>
</ul>
<ul>
<li>Fixed bug in the pseudo-boolean preprocessor (Thanks to Adrien Champion).</li>
</ul>
<ul>
<li>Fixed bug in bvsmod preprocessing rules (Thanks to Dejan Jovanovic).</li>
</ul>
<ul>
<li>Fixed bug in Tactic tseitin-cnf (Thanks to Georg Hofferek).</li>
</ul>
<ul>
<li>Added missing simplification step in nlsat.</li>
</ul>
<ul>
<li>Fixed bug in model construction for linear real arithmetic (Thanks to Marcello Bersani).</li>
</ul>
<ul>
<li>Fixed bug in preprocessor that eliminated rational powers (e.g., (^ x (/ 1.0 2.0))), the bug affected only problems where the denominator was even (Thanks to Johannes Eriksson).</li>
</ul>
<ul>
<li>Fixed bug in the k-th root operation in the algebraic number package. The result was correct, but the resulting polynomial could be incorrectly tagged as minimal and trigger nontermination on comparison operations. (Thanks to Johannes Eriksson).</li>
</ul>
<ul>
<li>Fixed bug affecting problems containing patterns with n-ary arithmetic terms such as (p (+ x y 2)). This bug was introduced in Z3 4.0. (Thanks to Paul Jackson).</li>
</ul>
<ul>
<li>Fixed crash when running out of memory.</li>
</ul>
<ul>
<li>Fixed crash reported by Alex Summers. The crash was happening on scripts that contain quantifiers, and use boolean formulas inside terms.</li>
</ul>
<ul>
<li>Fixed crash in the MBQI module (Thanks to Stephan Falke).</li>
</ul>
<ul>
<li>Fixed bug in the E-matching engine. It was missing instances of multi-patterns (Thanks Alex Summers).</li>
</ul>
<ul>
<li>Fixed bug in Z3Py pretty printer.</li>
</ul>
<ul>
<li>The pattern inference module does not generate warning messages by default anymore. This module was responsible for producing messages such as: "WARNING: failed to find a pattern for quantifier (quantifier id: k!199)". The option PI_WARNINGS=true can be used to enable these warning messages.</li>
</ul>
<ul>
<li>Added missing return statements in z3++.h (Thanks to Daniel Neider).</li>
</ul>
<ul>
<li>Removed support for TPTP5 and Simplify input formats.</li>
</ul>
<ul>
<li>Removed support for Z3 (low-level) input format. It is still available in the API.</li>
</ul>
<ul>
<li>Removed support for "SMT 1.5" input format (aka .smtc files). This was a hybrid input format that was implemented while the SMT 2.0 standard was being designed. Users should move to SMT 2.0 format. Note that SMT 1.0 format is still available.</li>
</ul>
<ul>
<li>Made tseitin-cnf tactic more "user friendly". It automatically applies required transformations needed to eliminate operators such as: and, distinct, etc.</li>
</ul>
<ul>
<li>Implemented new PSC (principal subresultant coefficient) algorithm. This was one of the bottlenecks in the new nlsat solver/tactic.</li>
</ul>
<h2><a class="anchor" id="sec_release_z3_4_0">
Z3 4.0</a></h2>
<p>Z3 4.0 is a major release. The main new features are:</p>
<ul>
<li>New C API, and it is backwards compatible, but several methods are marked as deprecated. In the new API, many solvers can be created in the same context. It also includes support for user defined strategies using Tactics. It also exposes a new interface for browsing models.</li>
</ul>
<ul>
<li>A thin C++ layer around the C API that illustrates how to leverage reference counting of ast objects. Several examples can be found in the directory 'examples/c++'.</li>
</ul>
<ul>
<li>New .NET API together with updated version of the legacy .NET API. The new .NET API supports the new features, Tactics, Solvers, Goals, and integration of with reference counting. Terms and sorts life-times no longer requires a scoping discipline.</li>
</ul>
<ul>
<li><a href="http://rise4fun.com/Z3Py/tutorial/guide" class="el">Z3Py: Python interface for Z3</a>. It covers all main features in the Z3 API.</li>
</ul>
<ul>
<li><a href="http://research.microsoft.com/apps/pubs/default.aspx?id=159549" class="el">NLSAT solver</a> for nonlinear arithmetic.</li>
</ul>
<ul>
<li>The PDR algorithm in muZ.</li>
</ul>
<ul>
<li>iZ3: an interpolating theorem prover built on top of Z3 (<a class="el" href="iz3documentation.html">iZ3 Documentation</a>). iZ3 is only available for Windows and Linux.</li>
</ul>
<ul>
<li>New logging infrastructure. Z3 logs are used to record every Z3 API call performed by your application. If you find a bug, just the log need to be sent to the Z3 team. The following APIs were removed: Z3_trace_to_file, Z3_trace_to_stderr, Z3_trace_to_stdout, Z3_trace_off. The APIs: Z3_open_log, Z3_append_log and Z3_close_log do not receive a Z3_context anymore. When creating a log, you must invoke Z3_open_log before any other Z3 function call. The new logs are much more precise. However, they still have two limitations. They are not useful for logging applications that use callbacks (e.g., theory plugins) because the log interpreter does not have access to these callbacks. They are not precise for applications that are using multiple threads for processing multiple Z3 contexts.</li>
</ul>
<ul>
<li>Z3 (for Linux and OSX) does not depend on GMP anymore.</li>
</ul>
<ul>
<li>Z3 1.x backwards compatibility macros are defined in z3_v1.h. If you still use them, you have to explicitly include this file.</li>
</ul>
<ul>
<li>Fixed all bugs reported at Stackoverflow.</li>
</ul>
<p>Temporarily disabled features:</p>
<ul>
<li>User theories cannot be used with the new Solver API yet. Users may still use them with the deprecated solver API.</li>
</ul>
<ul>
<li>Parallel Z3 is also disabled in this release. However, we have parallel combinators for creating stragegies (See <a href="http://rise4fun.com/Z3/tutorial/strategies">tutorial</a>).</li>
</ul>
<p>The two features above will return in future releases.</p>
<p>Here is a list of all <a href="deprecated.html" class="el">deprecated functions</a>.</p>
<h2><a class="anchor" id="sec_release_z3_3_2">
Z3 3.2</a></h2>
<p>This is a bug-fix refresh that fixes reported problems with 3.1.</p>
<ul>
<li>Added support for chainable and right associative attributes.</li>
</ul>
<ul>
<li>Fixed model generation for QBVF (aka UFBV) logic. Now, Z3 officially supports the logics BV and UFBV. These are essentially QF_BV and QF_UFBV with quantifiers.</li>
</ul>
<ul>
<li>Fixed bug in eval and get-value commands. Thanks to Levent Erkok.</li>
</ul>
<ul>
<li>Fixed performance bug that was affecting VCC and Slayer. Thanks to Michal Moskal.</li>
</ul>
<ul>
<li>Fixed time measurement on Linux. Thanks to Ayrat Khalimov.</li>
</ul>
<ul>
<li>Fixed bug in destructive equality resolution (DER=true).</li>
</ul>
<ul>
<li>Fixed bug in map operator in the theory of arrays. Thanks to Shaz Quadeer.</li>
</ul>
<ul>
<li>Improved OCaml build scripts for Windows. Thanks to Josh Berdine.</li>
</ul>
<ul>
<li>Fixed crash in MBQI (when Real variables were used).</li>
</ul>
<ul>
<li>Fixed bugs in quantifier elimination. Thanks to Josh Berdine.</li>
</ul>
<ul>
<li>Fixed crash when an invalid datatype declaration is used.</li>
</ul>
<ul>
<li>Fixed bug in the SMT2 parser.</li>
</ul>
<ul>
<li>Fixed crash in quick checker for quantified formulas. Thanks to Swen Jacobs.</li>
</ul>
<ul>
<li>Fixed bug in the bvsmod simplifier. Thanks to Trevor Hansen.</li>
</ul>
<ul>
<li>New APIs: <code>Z3_substitute</code> and <code>Z3_substitute_vars</code>.</li>
</ul>
<ul>
<li>Fixed crash in MBQI. Thanks to Dejan Jovanovic.</li>
</ul>
<h2><a class="anchor" id="sec_release_z3_3_1">
Z3 3.1</a></h2>
<p>This is a bug-fix refresh that fixes reported problems with 3.0.</p>
<ul>
<li>Fixed a bug in model generation. Thanks to Arlen Cox and Gordon Fraser.</li>
</ul>
<ul>
<li>Fixed a bug in Z3_check_assumptions that prevented it from being used between satisfiable instances. Thanks to Krystof Hoder.</li>
</ul>
<ul>
<li>Fixed two bugs in quantifier elimination. Thanks to Josh Berdine.</li>
</ul>
<ul>
<li>Fixed bugs in the preprocessor.</li>
</ul>
<ul>
<li>Fixed performance bug in MBQI. Thanks to Kathryn Stolee.</li>
</ul>
<ul>
<li>Improved strategy for QBVF (aka UFBV) logic.</li>
</ul>
<ul>
<li>Added support for negative assumptions in the check-sat command.</li>
</ul>
<h2><a class="anchor" id="sec_release_z3_3_0">
Z3 3.0</a></h2>
<ul>
<li>Fully compliant SMT-LIB 2.0 (SMT2) front-end. The old front-end is still available (command line option -smtc). The <a href="http://rise4fun.com/z3/tutorial/guide" class="el">Z3 Guide</a> describes the new front-end.</li>
</ul>
<ul>
<li>Parametric inductive datatypes, and parametric user defined types.</li>
</ul>
<ul>
<li>New SAT solver. Z3 can also read dimacs input formulas.</li>
</ul>
<ul>
<li>New Bitvector (QF_BV) solver. The new solver is only available when using the new SMT2 front-end.</li>
</ul>
<ul>
<li>Major performace improvements.</li>
</ul>
<ul>
<li>New preprocessing stack.</li>
</ul>
<ul>
<li>Performance improvements for linear and nonlinear arithmetic. The improvements are only available when using the the SMT2 front-end.</li>
</ul>
<ul>
<li>Added API for parsing SMT2 files.</li>
</ul>
<ul>
<li>Fixed bug in AUTO_CONFIG=true. Thanks to Alberto Griggio.</li>
</ul>
<ul>
<li>Fixed bug in the Z3 simplifier cache. It was not being reset during backtracking. Thanks to Alberto Griggio.</li>
</ul>
<ul>
<li>Fixed many other bugs reported by users.</li>
</ul>
<ul>
<li>Improved model-based quantifier instantiation (MBQI).</li>
</ul>
<ul>
<li>New solver for Quantified Bitvector Logic (QBVF).</li>
</ul>
<ul>
<li>Z3 checks the user specified logic.</li>
</ul>
<ul>
<li><a href="http://www.cs.miami.edu/~tptp/">TPTP</a> 5 front-end.</li>
</ul>
<h2><a class="anchor" id="sec_release_z3_2_19">
Z3 2.19</a></h2>
<ul>
<li>In the SMT-LIB 1.0 frontend, Z3 will only display the model when requested by the user (MODEL=true).</li>
</ul>
<ul>
<li>Fixed bug in the variable elimination preprocessor. Thanks to Alberto Griggio.</li>
</ul>
<ul>
<li>Fixed bug in the expression strong simplifier. Thanks to Marko.</li>
</ul>
<ul>
<li>Fixed bug in the Z3 auto configuration mode. Thanks to Vladimir Klebanov.</li>
</ul>
<ul>
<li>Fixed bug when model generation is used in the context of user-defined-theories. Thanks to Philippe Suter.</li>
</ul>
<ul>
<li>Fixed bug in quantifier elimination procedure. Thanks to Mikkel Larsen Pedersen.</li>
</ul>
<ul>
<li>Improved speed of Z3 lexer for SMT-LIB frontend.</li>
</ul>
<ul>
<li>Added a sample under examples/fixedpoints to illustrate using the API for pluggable relations.</li>
</ul>
<ul>
<li>Added an API method <code>Z3_get_param_value</code> for retrieving a configuration value given a configuration parameter name.</li>
</ul>
<h2><a class="anchor" id="sec_release_z3_2_18">
Z3 2.18</a></h2>
<ul>
<li>Z3 has a new mode for solving fixed-point queries. It allows formulating Datalogish queries combined with constraints. <a href="http://rise4fun.com/z3py/tutorial/fixedpoints" class="el">Try it online</a>.</li>
</ul>
<ul>
<li>Fixed bug that affects the array theory over the API using RELEVANCY=0. Thanks to Josh Berdine.</li>
</ul>
<h2><a class="anchor" id="sec_release_z3_2_17">
Z3 2.17</a></h2>
<ul>
<li>Z3 has new model finding capabilities for Quantified SMT formulas. The new features are enabled with <code>MBQI=true</code>. (Model Based Quantifier Instantiation). MBQI implements a counter-example based refinement loop, where candidate models are built and checked. When the model checking step fails, it creates new quantifier instantiations. The models are returned as simple functional programs. The new feature is also a decision procedure for many known decidable fragments such as: EPR (Effectively Propositional), Bradley&amp;Manna&amp;Sipma's Array Property Fragment (VMCAI'06), Almost Uninterpreted Fragment (Complete instantiation for quantified SMT formulas, CAV'09), McPeak&amp;Necula's list fragment (CAV'05), QBVF (Quantified Bit-Vector Formulas FMCAD'10), to cite a few. MBQI is useful for checking the consistency of background axiomatizations, synthesizing functions, and building real counterexamples for verification tools. Users can constrain the search space by providing templates for function symbols, and constraints on the size of the universe and range of functions.</li>
</ul>
<ul>
<li>Fixed bug in the command <code>(simplify [expr])</code> SMT-LIB 2.0 frontend.</li>
</ul>
<ul>
<li>New model pretty printer. The old style is still available (option <code>MODEL_V2=true</code>). Z3 1.x style is also available (option <code>MODEL_V1=true</code>).</li>
</ul>
<ul>
<li>Removed <code>ARRAY_PROPERTY</code> option. It is subsumed by <code>MBQI=true</code>.</li>
</ul>
<ul>
<li>Z3 uses the <code>(set-logic [name])</code> to configure itself.</li>
</ul>
<ul>
<li>Assumptions can be provided to the <code>check-sat</code> command. The command <code>(check-sat [assumptions])</code> checks the satisfiability of the logical context modulo the given set of assumptions. The assumptions must be Boolean constants or the negation of Boolean constants. When the logical context is unsatisfiable modulo the given assumptions, Z3 will display a subset of the <code>assumptions</code> that contributed to the conflict. Lemmas learned during the execution of <code>check-sat</code> are preserved.</li>
</ul>
<ul>
<li>Added command <code>(echo [string])</code> to the SMT-LIB 2.0 frontend.</li>
</ul>
<ul>
<li>Z3 models explicitly include an interpretation for uninterpreted sorts. The interpretation is presented using the <code>define-sort</code> primitive. For example, <div class="fragment"><pre class="fragment">            (define-sort S e_1 ... e_n)          
</pre></div> states that the interpretation of the uninterpreted sort S is finite, and its universe is composed by values <code>e_1</code>, ..., <code>e_n</code>.</li>
</ul>
<ul>
<li>Options <code>WARNING</code> and <code>VERBOSE</code> can be set in the SMT-LIB 2.0 frontend using the commands <code>(set-option WARNING &lt;flag&gt;)</code> <code>(set-option VERBOSE &lt;flag&gt;)</code>.</li>
</ul>
<ul>
<li>Fixed unintentional side-effects in the Z3 pretty printer. Thanks to Swen Jacobs.</li>
</ul>
<ul>
<li>Added interpreted constants of the form <code>as-array[f]</code>. The constants are used in models produced by Z3 to encode the interpretation of arrays. The following axiom scheme axiomatizes the new constants: <div class="fragment"><pre class="fragment">           (forall (x1 S1) ... (xn Sn) (= (select as-array[f] x1 ... xn) (f x1 ... xn)))
</pre></div></li>
</ul>
<ul>
<li>Fixed bug in the option MACRO_FINDER=true.</li>
</ul>
<ul>
<li>Fixed bug in the <code>(eval [expr])</code> command in the SMT-LIB 2.0 frontend.</li>
</ul>
<ul>
<li>Soundness bug in solver for array property fragment. Thanks to Trevor Hansen.</li>
</ul>
<h2><a class="anchor" id="sec_release_z3_2_16">
Z3 2.16</a></h2>
<p>The following bugs are fixed in this release:</p>
<ul>
<li>Bugs in quantifier elimination. Thanks to Mikkel Larsen Pedersen.</li>
</ul>
<ul>
<li>Crash in non-linear arithmetic. Thanks to Trevor Hansen.</li>
</ul>
<ul>
<li>Unsoundness in mixed integer-linear version using to_real. Thanks to Hirai.</li>
</ul>
<ul>
<li>A crash and bugs in check_assumptions feature. Thanks to Akash Lal and Shaz Qadeer.</li>
</ul>
<h2><a class="anchor" id="sec_release_z3_2_15">
Z3 2.15</a></h2>
<p>The following bugs are fixed in this release:</p>
<ul>
<li>A bug in the quantifier elimination that affects nested alternating quantifiers that cannot be fully eliminated.</li>
</ul>
<ul>
<li>A crash in proof generation. Thanks to Sascha Boehme.</li>
</ul>
<h2><a class="anchor" id="sec_release_z3_2_14">
Z3 2.14</a></h2>
<p>The following bugs are fixed in this release:</p>
<ul>
<li>A crash in arithmetic simplification. Thanks to Trevor Hansen.</li>
</ul>
<ul>
<li>An unsoundness bug in the quantifier elimination. It affects the equivalence of answers that are computed in some cases.</li>
</ul>
<ul>
<li>Incorrect printing of parameters and other values in SMT-LIB2 mode. Thanks to Tjark Weber.</li>
</ul>
<h2><a class="anchor" id="sec_release_z3_2_13">
Z3 2.13</a></h2>
<p>The following bugs are fixed in this release:</p>
<ul>
<li>Soundness bug in solver for array property fragment. Thanks to Trevor Hansen.</li>
</ul>
<ul>
<li>Soundness bug introduced in macro expansion utilities. Thanks to Wintersteiger.</li>
</ul>
<ul>
<li>Incorrect handling of QF_NRA. Thanks to Trevor Hansen.</li>
</ul>
<ul>
<li>Mixup between SMT2 and SMT1 pretty printing formats. Thanks to Alvin Cheung and Tjark Weber.</li>
</ul>
<h2><a class="anchor" id="sec_release_z3_2_12">
Z3 2.12</a></h2>
<p>News:</p>
<ul>
<li>Philippe Suter made a JNI binding available. There is also an existing Python binding by Sascha Boehme. See <a class="el" href="contrib.html">Contributions</a>.</li>
</ul>
<p>The following features are added in this release:</p>
<ul>
<li>Enable check_assumptions without enclosing push/pop. This resolves the limitation described in <a class="el" href="releasenotes.html#sub_release_limitations_2_0">Limitations:</a>.</li>
</ul>
<ul>
<li>Expose coefficients used in arithmetical proofs.</li>
</ul>
<ul>
<li>Allow quantified theory axioms.</li>
</ul>
<p>The following bugs are fixed in this release:</p>
<ul>
<li>Fixes to the SMT-LIB 2.0 pretty printing mode.</li>
</ul>
<ul>
<li>Detect miss-annotated SMT-LIB benchmarks to avoid crashes when using the wrong solvers. Thanks to Trevor Hansen.</li>
</ul>
<ul>
<li>A digression in the managed API from 2.10 when passing null parameters.</li>
</ul>
<ul>
<li>Crash/incorrect handling of inequalities over the reals during quantifier elimination. Thanks to Mikkel Larsen Pedersen.</li>
</ul>
<ul>
<li>Bug in destructive equality resolution. Thanks to Sascha Boehme.</li>
</ul>
<ul>
<li>Bug in initialization for x64_mt executable on SMT benchmarks. Thanks to Alvin Cheung.</li>
</ul>
<h2><a class="anchor" id="sec_release_z3_2_11">
Z3 2.11</a></h2>
<p>The following features are added in this release:</p>
<ul>
<li>SMT-LIB 2.0 parsing support for (! ..) in quantifiers and (_ ..).</li>
</ul>
<ul>
<li>Allow passing strings to function and sort declarations in the .NET Theory builders.</li>
</ul>
<ul>
<li>Add a parameter to the proof construct for theory lemmas to indicate which theory provided the lemma.</li>
</ul>
<ul>
<li>More detailed proof production in rewrite steps.</li>
</ul>
<p>The following bugs are fixed in this release:</p>
<ul>
<li>A bug in BV propagation. Thanks to Trevor Hansen.</li>
</ul>
<h2><a class="anchor" id="sec_release_z3_2_10">
Z3 2.10</a></h2>
<p>The following bugs are fixed in this release:</p>
<ul>
<li>Inconsistent printing of integer and real types from the low level and SMT-LIB pretty printers. Thanks to Sascha Boehme.</li>
</ul>
<ul>
<li>Missing relevancy propagation and memory smash in user-theory plugins. Thanks to Stan Rosenberg.</li>
</ul>
<h2><a class="anchor" id="sec_release_z3_2_9">
Z3 2.9</a></h2>
<p>The following bugs are fixed in this release:</p>
<ul>
<li>Incorrect constant folding of extraction for large bit-vectors. Thanks to Alvin.</li>
</ul>
<ul>
<li>Z3 crashed when using patterns that are variables. Thanks to Michael Emmi.</li>
</ul>
<ul>
<li>Unsound array property fragment handling of non-integer types. Thanks to Juergen Christ.</li>
</ul>
<ul>
<li>The quantifier elimination procedure for data-types has been replaced. Thanks to Josh Berdine.</li>
</ul>
<ul>
<li>Refresh 2.9.1: Add missing AssumeEq to the .NET managed API. Thanks to Stan Rosenberg.</li>
</ul>
<h2><a class="anchor" id="sec_release_z3_2_8">
Z3 2.8</a></h2>
<p>The following features have been added:</p>
<ul>
<li>User theories: The user can add theory solvers that get invoked by Z3's core during search. See also <a class="el" href="group__theory__plugin__ex.html">Theory plugin examples</a>.</li>
</ul>
<ul>
<li>SMT2 features: parse smt2 let bindings.</li>
</ul>
<p>The following bugs are fixed in this release:</p>
<ul>
<li>Incorrect semantics of constant folding for (bvsmod 0 x), where x is positive, incorrect constant folding for bvsdiv, incorrect simplification of bvnor, bvnand, incorrect compilation of bvshl when using a shift amount that evaluates to the length of the bit-vector. Thanks to Trevor Hansen and Robert Brummayer.</li>
</ul>
<ul>
<li>Incorrect NNF conversion in linear quantifier elimniation routines. Thanks to Josh Berdine.</li>
</ul>
<ul>
<li>Missing constant folding of extraction for large bit-vectors. Thanks to Alvin.</li>
</ul>
<ul>
<li>Missing APIs for bvredand and bvredor.</li>
</ul>
<h2><a class="anchor" id="sec_release_z3_2_7">
Z3 2.7</a></h2>
<p>The following features have been added:</p>
<ul>
<li>Partial support for SMT-LIB 2.0 format: Added declare-fun, define-fun, declare-sort, define-sort, get-value</li>
</ul>
<ul>
<li>Added coercion function to_int and testing function is_int. To coerce from reals to integers and to test whether a real is an integer. The function to_real was already supported.</li>
</ul>
<ul>
<li>Added Z3_repeat to create the repetition of bit-vectors.</li>
</ul>
<p>The following bugs are fixed in this release:</p>
<ul>
<li>Incorrect semantics of constant folding for bvsmod.</li>
</ul>
<ul>
<li>Incorrect semantics of constant folding for div/mod. Thanks to Sascha Boehme.</li>
</ul>
<ul>
<li>Non-termination problem associated with option LOOKAHEAD=true. It gets set for QF_UF in auto-configuration mode. Thanks to Pierre-Christophe Bué.</li>
</ul>
<ul>
<li>Incorrect axioms created for injective functions. Thanks to Sascha Boehme.</li>
</ul>
<ul>
<li>Stack overflow during simplification of large nested bit-vector terms. Thanks to David Molnar.</li>
</ul>
<ul>
<li>Crash in unsat-core generation when enabling SOLVER=true. Thanks to Lucas Cordeiro.</li>
</ul>
<ul>
<li>Unlimited cache growth while simplifying bit-vectors. Thanks to Eric Landers.</li>
</ul>
<ul>
<li>Crash when solving array property formulas using non-standard array operators. Thanks to Sascha Boehme.</li>
</ul>
<h2><a class="anchor" id="sec_release_z3_2_6">
Z3 2.6</a></h2>
<p>This release fixes a few bugs. Thanks to Marko Kääramees for reporting a bug in the strong context simplifier and to Josh Berdine.</p>
<p>This release also introduces some new preprocessing features:</p>
<ul>
<li>More efficient destructive equality resolution DER=true.</li>
</ul>
<ul>
<li>DISTRIBUTE_FORALL=true (distributes universal quatifiers over conjunctions, this transformation may affect pattern inference).</li>
</ul>
<ul>
<li>Rewriter that uses universally quantified equations PRE_DEMODULATOR=true (yes, the option name is not good, we will change it in a future release).</li>
</ul>
<ul>
<li>REDUCE_ARGS=true (this transformation is essentially a partial ackermannization for functions where a particular argument is always an interpreted value).</li>
</ul>
<ul>
<li>Better support for macro detection (a macro is a universally quantified formula of the form Forall X. F(X) = T[X]). We also change the option name, now it is called MACRO_FINDER=true.</li>
</ul>
<ul>
<li>ELIM_QUANTIFIERS=true enables quantifier elimination methods. Previous variants called QUANT_ARITH are deprecated.</li>
</ul>
<h2><a class="anchor" id="sec_release_z3_2_5">
Z3 2.5</a></h2>
<p>This release introduces the following features:</p>
<ul>
<li>STRONG_CONTEXT_SIMPLIFIER=true allows simplifying sub-formulas to true/false depending on context-dependent information. The approach that we use is described on the <a href="http://community.research.microsoft.com/forums/p/4493/8140.aspx">Microsoft Z3 forum</a>.</li>
</ul>
<ul>
<li>Some parameter values can be updated over the API. This functionality is called <code>Z3_update_param_value</code> in the C API. This is particularly useful for turning the strong context simplifier on and off.</li>
</ul>
<p>It also fixes bugs reported by Enric Rodríguez Carbonell, Nuno Lopes, Josh Berdine, Ethan Jackson, Rob Quigley and Lucas Cordeiro.</p>
<h2><a class="anchor" id="sec_release_z3_2_4">
Z3 2.4</a></h2>
<p>This release introduces the following features:</p>
<ul>
<li>Labeled literals for the SMT-LIB format. The Simplify format has supported labeled formulas to simplify displaying counter-examples. Section <a class="el" href="smtlib.html#smtlib_labels">Labels</a> explains how labels are now supported in the SMT-LIB format.</li>
</ul>
<ul>
<li>Preliminary support for SMT-LIB2</li>
</ul>
<p>It fixes the following bugs:</p>
<ul>
<li>Bug in non-linear arithmetic routines.</li>
</ul>
<ul>
<li>Crash observed a class of modular integer arithmetic formulas.</li>
</ul>
<ul>
<li>Incomplete saturation leading to incorrectly sat labeling.</li>
</ul>
<ul>
<li>Crash in the bit-vector procedure when using int2bv and bv2int.</li>
</ul>
<p>Thanks to Michal Moskal, Sascha Boehme and Ethan Jackson.</p>
<h2><a class="anchor" id="sec_release_z3_2_3">
Z3 2.3</a></h2>
<p>This release introduces the following features:</p>
<ul>
<li>F# Quotation utilities. The release contains a new directory 'utils'. It contains utilities built on top of Z3. The main one is support for translating F# quoted expressions into Z3 formulas.</li>
</ul>
<ul>
<li>QUANT_ARITH configuration. Complete quantifier-elimination simplification for linear real and linear integer arithmetic. QUANT_ARITH=1 uses Ferrante/Rackhoff for reals and Cooper's method for integers. QUANT_ARITH=2 uses Fourier-Motzkin for reals and the Omega test for integers.</li>
</ul>
<p>It fixes the following bugs:</p>
<ul>
<li>Incorrect simplification of map over store in the extendted array theory. Reported by Catalin Hritcu.</li>
</ul>
<ul>
<li>Incomplete handling of equality propagation with constant arrays. Reported by Catalin Hritcu.</li>
</ul>
<ul>
<li>Crash in bit-vector theory.</li>
</ul>
<ul>
<li>Incorrectness in proof reconstruction for quantifier manipulation.</li>
</ul>
<p>Thanks to Catalin Hritcu, Nikolai Tillmann and Sascha Boehme.</p>
<h2><a class="anchor" id="sec_release_z3_2_2">
Z3 2.2</a></h2>
<p>This release fixes minor bugs. It introduces some additional features in the SMT-LIB front-end to make it easier to parse new operators in the theory of arrays. These are described in <a class="el" href="smtlib.html#smtlibext">SMT-LIB Extensions</a>.</p>
<h2><a class="anchor" id="sec_release_z3_2_1">
Z3 2.1</a></h2>
<p>This is a bug fix release. Many thanks to Robert Brummayer, Carine Pascal, François Remy, Rajesh K Karmani, Roberto Lublinerman and numerous others for their feedback and bug reports.</p>
<h2><a class="anchor" id="sec_release_z3_2_0">
Z3 2.0</a></h2>
<h3><a class="anchor" id="sub_release_new_features_2_0">
New features:</a></h3>
<ul>
<li><a href="http://research.microsoft.com/en-us/um/people/leonardo/parallel_z3.pdf">Parallel Z3</a>. Thanks to Christoph Wintersteiger there is a binary supporting running multiple instances of Z3 from different threads, but more interestingly, also making use of multiple cores for a single formula.</li>
</ul>
<ul>
<li>Check Assumptions. The binary API exposes a new call <a class="el" href="group__capi.html#ga289e6cfc3207ee0beb4f9dc8dd4e378b" title="Check whether the given logical context and optional assumptions is consistent or...">Z3_check_assumptions</a>, which allows passing in additional assumptions while checking for consistency of the already asserted formulas. The API function returns a subset of the assumptions that were used in an unsatisfiable core. It also returns an optional proof object.</li>
</ul>
<ul>
<li>Proof Objects. The <a class="el" href="group__capi.html#ga289e6cfc3207ee0beb4f9dc8dd4e378b" title="Check whether the given logical context and optional assumptions is consistent or...">Z3_check_assumptions</a> retuns a proof object if the configuration flag PROOF_MODE is set to 1 or 2.</li>
</ul>
<ul>
<li>Partial support for non-linear arithmetic. The support uses support for computing Groebner bases. It allows solving some, but far from all, formulas using polynomials over the reals. Uses should be aware that the support for non-linear arithmetic (over the reals) is not complete in Z3.</li>
</ul>
<ul>
<li>Recursive data-types. The theory of well-founded recursive data-types is supported over the binary APIs. It supports ground satisfiability checking for tuples, enumeration types (scalars), lists and mututally recursive data-types.</li>
</ul>
<h3><a class="anchor" id="sub_release_main_changes_2_0">
Main changes to the API:</a></h3>
<ul>
<li>The names of the basic objects exposed by Z3 have been renamed from <code>type</code> to <code>sort</code>.</li>
<li>The managed API uses the type-safe context by default. Using the type-safe context, every term, sort and function declaration is managed in a .NET object. The non-type safe version (RawContext) uses integer pointers for these different types.</li>
</ul>
<h3><a class="anchor" id="sub_release_limitations_2_0">
Limitations:</a></h3>
<ul>
<li>When using the CheckAssumptions <a class="el" href="group__capi.html#ga289e6cfc3207ee0beb4f9dc8dd4e378b" title="Check whether the given logical context and optional assumptions is consistent or...">Z3_check_assumptions</a> feature you will need to explicitly push/pop a context around the calls to undo the additional assumptions that are passed in.</li>
</ul>
<p>This limitation is no longer present in Release 2.12.</p>
<h3><a class="anchor" id="Thanks">
Thanks</a></h3>
<p>To Wolfgang Grieskamp, Sascha Boehme, Yannick Moy, Christoph Wintersteiger, Yeting Ge, Ruzica Piskac, Grant Passmore, Aditya Nori, and numerous others for trying out preliminary versions of Z3 2.0.</p>
<h2><a class="anchor" id="iz3releasenotes">
iZ3 4.0</a></h2>
<p>This is the first release, corresponding to Z3 4.0. </p>
</div>
<div class="tabs"></div>
<address style="text-align: right;">
Last modified Thu Aug 9 16:34:44 2012
</BODY>
</HTML>
