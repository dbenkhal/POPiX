 <HTML>
    <HEAD>
    <meta name="author" content="Leonardo de Moura" />
    <meta name="author" content="Nikolaj Bjorner" />
    <meta name="description" content="Z3: theorem prover" />
    <meta name="keywords" content="decision procedure, theorem prover, SMT-LIB, SMTLIB, SMT LIB, SMT Solver, SMTCOMP, SMT-COMP, SAT solver, formal methods, constraint solver, software verification, hardware verification" />
      <TITLE>Z3: Theorem Prover</TITLE>
      <LINK HREF="z3.css" REL="stylesheet" TYPE="text/css">
      <LINK href="tabs.css" rel="stylesheet" type="text/css">
    </HEAD>
<BODY BGCOLOR="#FFFFFF">

<table>
<tr>
<th style="width:120px"><a style="border=0px" class="el" href="index.html"><img border="0" src="z3.png" alt="Z3" /></a></th>
<th style="width:100%">
<div id="nav">
<ul>
<li><a href="download.html">Download</a></li>
<li>/</li>
<li><a href="documentation.html#tutorial">Tutorials</a></li>
<li>/</li>
<li><a href="documentation.html">Documentation</a></li>
<li>/</li>
<li><a href="mail.html">Contact</a></li>
<li>/</li>
<li><a href="faq.html">FAQ</a></li>
<li>/</li>
<li><a href="awards.html">Awards</a></li>
<li>/</li>
<li><a href="http://research.microsoft.com/en-us/groups/rise/default.aspx">RiSE</a></li>
</ul>
</div>
</th>
<th style="width:120px">
<a style="border=0px" class="el" href="http://research.microsoft.com"><img border="0" src="logo_msr.gif" alt="Microsoft Research" />
</th>
</tr>
</table>

<!-- <p> -->
<!-- <img align="middle" src="z3.png" alt="Z3" /> -->
<!-- <table class="centered-small"> -->
<!--   <tr> -->
<!--     <th><a href="index.html"><span>Home</span></a></th> -->
<!--     <th> &bull; </th> -->
<!--     <th><a href="documentation.html"><span>Docs</span></a></th> -->
<!--     <th> &bull; </th> -->
<!--     <th><a href="download.html"><span>Download</span></a></th> -->
<!--     <th> &bull; </th> -->
<!--     <th><a href="mail.html"><span>Mail</span></a></th> -->
<!--     <th> &bull; </th> -->
<!--     <th><a href="faq.html"><span>FAQ</span></a></th> -->
<!--     <th> &bull; </th> -->
<!--     <th><a href="awards.html"><span>Awards</span></a></th> -->
<!--     <th> &bull; </th> -->
<!--     <th><a href="http://research.microsoft.com/en-us/groups/rise/default.aspx"><span>RiSE</span></a></th> -->
<!--     <th> &bull; </th> -->
<!--     <th><a href="http://research.microsoft.com"><span>MSR</span></a></th> -->
<!--   </tr> -->
<!-- </table> -->
<!-- </p> -->

<!-- Generated by Doxygen 1.6.3 -->
  <div class="navpath"><b>Microsoft</b>::<b>Z3</b>::<a class="el" href="class_microsoft_1_1_z3_1_1_model.html">Model</a>
  </div>
<div class="contents">
<h1>Model Class Reference</h1><!-- doxytag: class="Microsoft::Z3::Model" --><!-- doxytag: inherits="Microsoft::Z3::Z3Object" -->
<p>A <a class="el" href="class_microsoft_1_1_z3_1_1_model.html" title="A Model contains interpretations (assignments) of constants and functions.">Model</a> contains interpretations (assignments) of constants and functions.  
<a href="#_details">More...</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_microsoft_1_1_z3_1_1_model_1_1_model_evaluation_failed_exception.html">ModelEvaluationFailedException</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A <a class="el" href="class_microsoft_1_1_z3_1_1_model_1_1_model_evaluation_failed_exception.html" title="A ModelEvaluationFailedException is thrown when an expression cannot be evaluated...">ModelEvaluationFailedException</a> is thrown when an expression cannot be evaluated by the model.  <a href="class_microsoft_1_1_z3_1_1_model_1_1_model_evaluation_failed_exception.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_microsoft_1_1_z3_1_1_expr.html">Expr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_microsoft_1_1_z3_1_1_model.html#a2363984084a8ff282b73c63a1f46caa9">ConstInterp</a> (<a class="el" href="class_microsoft_1_1_z3_1_1_expr.html">Expr</a> a)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieves the interpretation (the assignment) of <em>a</em>  in the model.  <a href="#a2363984084a8ff282b73c63a1f46caa9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_microsoft_1_1_z3_1_1_expr.html">Expr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_microsoft_1_1_z3_1_1_model.html#ac2dc8aa9675500ed5a3b815e03bef945">ConstInterp</a> (<a class="el" href="class_microsoft_1_1_z3_1_1_func_decl.html">FuncDecl</a> f)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieves the interpretation (the assignment) of <em>f</em>  in the model.  <a href="#ac2dc8aa9675500ed5a3b815e03bef945"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_microsoft_1_1_z3_1_1_func_interp.html">FuncInterp</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_microsoft_1_1_z3_1_1_model.html#a7df49079a289dc38841fc4538e6f9d98">FuncInterp</a> (<a class="el" href="class_microsoft_1_1_z3_1_1_func_decl.html">FuncDecl</a> f)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieves the interpretation (the assignment) of a non-constant <em>f</em>  in the model.  <a href="#a7df49079a289dc38841fc4538e6f9d98"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_microsoft_1_1_z3_1_1_expr.html">Expr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_microsoft_1_1_z3_1_1_model.html#adb3e130c7456717c92dc64cf899e22b4">Eval</a> (<a class="el" href="class_microsoft_1_1_z3_1_1_expr.html">Expr</a> t, bool completion=false)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Evaluates the expression <em>t</em>  in the current model.  <a href="#adb3e130c7456717c92dc64cf899e22b4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_microsoft_1_1_z3_1_1_expr.html">Expr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_microsoft_1_1_z3_1_1_model.html#a4da2e54b180537078b5cbd572fdd5d45">Evaluate</a> (<a class="el" href="class_microsoft_1_1_z3_1_1_expr.html">Expr</a> t, bool completion=false)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Alias for <code>Eval</code>.  <a href="#a4da2e54b180537078b5cbd572fdd5d45"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_microsoft_1_1_z3_1_1_expr.html">Expr</a>[]&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_microsoft_1_1_z3_1_1_model.html#a4967770a3f55c3c52057b6b7a033ca8e">SortUniverse</a> (<a class="el" href="class_microsoft_1_1_z3_1_1_sort.html">Sort</a> s)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The finite set of distinct values that represent the interpretation for sort <em>s</em> .  <a href="#a4967770a3f55c3c52057b6b7a033ca8e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">override string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_microsoft_1_1_z3_1_1_model.html#aa73e7c4dd1df5fd5fbf81c7764ee1533">ToString</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Conversion of models to strings.  <a href="#aa73e7c4dd1df5fd5fbf81c7764ee1533"></a><br/></td></tr>
<tr><td colspan="2"><h2>Properties</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_microsoft_1_1_z3_1_1_model.html#ae7d6ade8e5138f8553295e233ee07781">NumConsts</a><code> [get]</code></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The number of constants that have an interpretation in the model.  <a href="#ae7d6ade8e5138f8553295e233ee07781"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_microsoft_1_1_z3_1_1_func_decl.html">FuncDecl</a>[]&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_microsoft_1_1_z3_1_1_model.html#aa5ea778ae8a8c5074e085a4dda3716d4">ConstDecls</a><code> [get]</code></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The function declarations of the constants in the model.  <a href="#aa5ea778ae8a8c5074e085a4dda3716d4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_microsoft_1_1_z3_1_1_model.html#ac0a860aa748e43176f43e25ba8e84069">NumFuncs</a><code> [get]</code></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The number of function interpretations in the model.  <a href="#ac0a860aa748e43176f43e25ba8e84069"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_microsoft_1_1_z3_1_1_func_decl.html">FuncDecl</a>[]&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_microsoft_1_1_z3_1_1_model.html#a4ed2497024f87c16175f5271aa8a3062">FuncDecls</a><code> [get]</code></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The function declarations of the function interpretations in the model.  <a href="#a4ed2497024f87c16175f5271aa8a3062"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_microsoft_1_1_z3_1_1_func_decl.html">FuncDecl</a>[]&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_microsoft_1_1_z3_1_1_model.html#a19baae18f7ac6cb5c07167cf214dd619">Decls</a><code> [get]</code></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">All symbols that have an interpretation in the model.  <a href="#a19baae18f7ac6cb5c07167cf214dd619"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_microsoft_1_1_z3_1_1_model.html#af0b6aace6e0efdc429abfc1331ecf29d">NumSorts</a><code> [get]</code></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The number of uninterpreted sorts that the model has an interpretation for.  <a href="#af0b6aace6e0efdc429abfc1331ecf29d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_microsoft_1_1_z3_1_1_sort.html">Sort</a>[]&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_microsoft_1_1_z3_1_1_model.html#a8b343953e7f61a392d94cfa6940d46e3">Sorts</a><code> [get]</code></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The uninterpreted sorts that the model has an interpretation for.  <a href="#a8b343953e7f61a392d94cfa6940d46e3"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>A <a class="el" href="class_microsoft_1_1_z3_1_1_model.html" title="A Model contains interpretations (assignments) of constants and functions.">Model</a> contains interpretations (assignments) of constants and functions. </p>

<p>Definition at line <a class="el" href="_model_8cs_source.html#l00029">29</a> of file <a class="el" href="_model_8cs_source.html">Model.cs</a>.</p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ac2dc8aa9675500ed5a3b815e03bef945"></a><!-- doxytag: member="Microsoft::Z3::Model::ConstInterp" ref="ac2dc8aa9675500ed5a3b815e03bef945" args="(FuncDecl f)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_microsoft_1_1_z3_1_1_expr.html">Expr</a> ConstInterp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_microsoft_1_1_z3_1_1_func_decl.html">FuncDecl</a>&nbsp;</td>
          <td class="paramname"> <em>f</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Retrieves the interpretation (the assignment) of <em>f</em>  in the model. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>f</em>&nbsp;</td><td>A function declaration of zero arity</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>An expression if the function has an interpretation in the model, null otherwise.</dd></dl>

<p>Definition at line <a class="el" href="_model_8cs_source.html#l00049">49</a> of file <a class="el" href="_model_8cs_source.html">Model.cs</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00050"></a>00050         {
<a name="l00051"></a>00051             Contract.Requires(f != null);
<a name="l00052"></a>00052 
<a name="l00053"></a>00053             Context.CheckContextMatch(f);
<a name="l00054"></a>00054             <span class="keywordflow">if</span> (f.Arity != 0 ||
<a name="l00055"></a>00055                 Native.Z3_get_sort_kind(Context.nCtx, Native.Z3_get_range(Context.nCtx, f.NativeObject)) == (uint)<a class="code" href="group__capi.html#ga4cd6ad05aba48f4b679f0c13310ed2a4" title="The different kinds of Z3 types (See Z3_get_sort_kind).">Z3_sort_kind</a>.Z3_ARRAY_SORT)
<a name="l00056"></a>00056                 <span class="keywordflow">throw</span> <span class="keyword">new</span> Z3Exception(<span class="stringliteral">&quot;Non-zero arity functions and arrays have FunctionInterpretations as a model. Use FuncInterp.&quot;</span>);
<a name="l00057"></a>00057 
<a name="l00058"></a>00058             IntPtr n = Native.Z3_model_get_const_interp(Context.nCtx, NativeObject, f.NativeObject);
<a name="l00059"></a>00059             <span class="keywordflow">if</span> (n == IntPtr.Zero)
<a name="l00060"></a>00060                 <span class="keywordflow">return</span> null;
<a name="l00061"></a>00061             <span class="keywordflow">else</span>
<a name="l00062"></a>00062                 <span class="keywordflow">return</span> Expr.Create(Context, n);
<a name="l00063"></a>00063         }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a2363984084a8ff282b73c63a1f46caa9"></a><!-- doxytag: member="Microsoft::Z3::Model::ConstInterp" ref="a2363984084a8ff282b73c63a1f46caa9" args="(Expr a)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_microsoft_1_1_z3_1_1_expr.html">Expr</a> ConstInterp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_microsoft_1_1_z3_1_1_expr.html">Expr</a>&nbsp;</td>
          <td class="paramname"> <em>a</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Retrieves the interpretation (the assignment) of <em>a</em>  in the model. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>a</em>&nbsp;</td><td>A Constant</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>An expression if the constant has an interpretation in the model, null otherwise.</dd></dl>

<p>Definition at line <a class="el" href="_model_8cs_source.html#l00036">36</a> of file <a class="el" href="_model_8cs_source.html">Model.cs</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00037"></a>00037         {
<a name="l00038"></a>00038             Contract.Requires(a != null);
<a name="l00039"></a>00039 
<a name="l00040"></a>00040             Context.CheckContextMatch(a);
<a name="l00041"></a>00041             <span class="keywordflow">return</span> <a class="code" href="class_microsoft_1_1_z3_1_1_model.html#a2363984084a8ff282b73c63a1f46caa9" title="Retrieves the interpretation (the assignment) of a  in the model.">ConstInterp</a>(a.FuncDecl);
<a name="l00042"></a>00042         }
</pre></div></p>

</div>
</div>
<a class="anchor" id="adb3e130c7456717c92dc64cf899e22b4"></a><!-- doxytag: member="Microsoft::Z3::Model::Eval" ref="adb3e130c7456717c92dc64cf899e22b4" args="(Expr t, bool completion=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_microsoft_1_1_z3_1_1_expr.html">Expr</a> Eval </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_microsoft_1_1_z3_1_1_expr.html">Expr</a>&nbsp;</td>
          <td class="paramname"> <em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>completion</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Evaluates the expression <em>t</em>  in the current model. </p>
<p>This function may fail if <em>t</em>  contains quantifiers, is partial (MODEL_PARTIAL enabled), or if <em>t</em>  is not well-sorted. In this case a <code><a class="el" href="class_microsoft_1_1_z3_1_1_model_1_1_model_evaluation_failed_exception.html" title="A ModelEvaluationFailedException is thrown when an expression cannot be evaluated...">ModelEvaluationFailedException</a></code> is thrown.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>t</em>&nbsp;</td><td>An expression</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>completion</em>&nbsp;</td><td>When this flag is enabled, a model value will be assigned to any constant or function that does not have an interpretation in the model. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The evaluation of <em>t</em>  in the model.</dd></dl>

<p>Definition at line <a class="el" href="_model_8cs_source.html#l00205">205</a> of file <a class="el" href="_model_8cs_source.html">Model.cs</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00206"></a>00206         {
<a name="l00207"></a>00207             Contract.Requires(t != null);
<a name="l00208"></a>00208             Contract.Ensures(Contract.Result&lt;Expr&gt;() != null);
<a name="l00209"></a>00209 
<a name="l00210"></a>00210             IntPtr v = IntPtr.Zero;
<a name="l00211"></a>00211             <span class="keywordflow">if</span> (Native.Z3_model_eval(Context.nCtx, NativeObject, t.NativeObject, (completion) ? 1 : 0, ref v) == 0)
<a name="l00212"></a>00212                 <span class="keywordflow">throw</span> <span class="keyword">new</span> ModelEvaluationFailedException();
<a name="l00213"></a>00213             <span class="keywordflow">else</span>
<a name="l00214"></a>00214                 <span class="keywordflow">return</span> Expr.Create(Context, v);
<a name="l00215"></a>00215         }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4da2e54b180537078b5cbd572fdd5d45"></a><!-- doxytag: member="Microsoft::Z3::Model::Evaluate" ref="a4da2e54b180537078b5cbd572fdd5d45" args="(Expr t, bool completion=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_microsoft_1_1_z3_1_1_expr.html">Expr</a> Evaluate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_microsoft_1_1_z3_1_1_expr.html">Expr</a>&nbsp;</td>
          <td class="paramname"> <em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>completion</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Alias for <code>Eval</code>. </p>

<p>Definition at line <a class="el" href="_model_8cs_source.html#l00220">220</a> of file <a class="el" href="_model_8cs_source.html">Model.cs</a>.</p>

<p>Referenced by <a class="el" href="test__managed_8cs_source.html#l01508">TestManaged::check_small()</a>, <a class="el" href="test__managed_8cs_source.html#l01426">TestManaged::eval_example1()</a>, and <a class="el" href="test__managed_8cs_source.html#l01466">TestManaged::eval_example2()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00221"></a>00221         {
<a name="l00222"></a>00222             Contract.Requires(t != null);
<a name="l00223"></a>00223             Contract.Ensures(Contract.Result&lt;Expr&gt;() != null);
<a name="l00224"></a>00224 
<a name="l00225"></a>00225             <span class="keywordflow">return</span> <a class="code" href="class_microsoft_1_1_z3_1_1_model.html#adb3e130c7456717c92dc64cf899e22b4" title="Evaluates the expression t  in the current model.">Eval</a>(t, completion);
<a name="l00226"></a>00226         }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a7df49079a289dc38841fc4538e6f9d98"></a><!-- doxytag: member="Microsoft::Z3::Model::FuncInterp" ref="a7df49079a289dc38841fc4538e6f9d98" args="(FuncDecl f)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_microsoft_1_1_z3_1_1_func_interp.html">FuncInterp</a> <a class="el" href="class_microsoft_1_1_z3_1_1_func_interp.html">FuncInterp</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_microsoft_1_1_z3_1_1_func_decl.html">FuncDecl</a>&nbsp;</td>
          <td class="paramname"> <em>f</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Retrieves the interpretation (the assignment) of a non-constant <em>f</em>  in the model. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>f</em>&nbsp;</td><td>A function declaration of non-zero arity</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A FunctionInterpretation if the function has an interpretation in the model, null otherwise.</dd></dl>

<p>Definition at line <a class="el" href="_model_8cs_source.html#l00070">70</a> of file <a class="el" href="_model_8cs_source.html">Model.cs</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00071"></a>00071         {
<a name="l00072"></a>00072             Contract.Requires(f != null);
<a name="l00073"></a>00073 
<a name="l00074"></a>00074             Context.CheckContextMatch(f);
<a name="l00075"></a>00075 
<a name="l00076"></a>00076             <a class="code" href="group__capi.html#ga4cd6ad05aba48f4b679f0c13310ed2a4" title="The different kinds of Z3 types (See Z3_get_sort_kind).">Z3_sort_kind</a> sk = (<a class="code" href="group__capi.html#ga4cd6ad05aba48f4b679f0c13310ed2a4" title="The different kinds of Z3 types (See Z3_get_sort_kind).">Z3_sort_kind</a>)Native.Z3_get_sort_kind(Context.nCtx, Native.Z3_get_range(Context.nCtx, f.NativeObject));
<a name="l00077"></a>00077 
<a name="l00078"></a>00078             <span class="keywordflow">if</span> (f.Arity == 0)
<a name="l00079"></a>00079             {
<a name="l00080"></a>00080                 IntPtr n = Native.Z3_model_get_const_interp(Context.nCtx, NativeObject, f.NativeObject);
<a name="l00081"></a>00081 
<a name="l00082"></a>00082                 <span class="keywordflow">if</span> (sk == <a class="code" href="group__capi.html#ga4cd6ad05aba48f4b679f0c13310ed2a4" title="The different kinds of Z3 types (See Z3_get_sort_kind).">Z3_sort_kind</a>.Z3_ARRAY_SORT)
<a name="l00083"></a>00083                 {
<a name="l00084"></a>00084                     <span class="keywordflow">if</span> (n == IntPtr.Zero)
<a name="l00085"></a>00085                         <span class="keywordflow">return</span> null;
<a name="l00086"></a>00086                     <span class="keywordflow">else</span>
<a name="l00087"></a>00087                     {
<a name="l00088"></a>00088                         <span class="keywordflow">if</span> (Native.Z3_is_as_array(Context.nCtx, n) == 0)
<a name="l00089"></a>00089                             <span class="keywordflow">throw</span> <span class="keyword">new</span> Z3Exception(<span class="stringliteral">&quot;Argument was not an array constant&quot;</span>);
<a name="l00090"></a>00090                         IntPtr fd = Native.Z3_get_as_array_func_decl(Context.nCtx, n);
<a name="l00091"></a>00091                         <span class="keywordflow">return</span> <a class="code" href="class_microsoft_1_1_z3_1_1_model.html#a7df49079a289dc38841fc4538e6f9d98" title="Retrieves the interpretation (the assignment) of a non-constant f  in the model.">FuncInterp</a>(<span class="keyword">new</span> FuncDecl(Context, fd));
<a name="l00092"></a>00092                     }
<a name="l00093"></a>00093                 }
<a name="l00094"></a>00094                 <span class="keywordflow">else</span>
<a name="l00095"></a>00095                 {
<a name="l00096"></a>00096                     <span class="keywordflow">throw</span> <span class="keyword">new</span> Z3Exception(<span class="stringliteral">&quot;Constant functions do not have a function interpretation; use ConstInterp&quot;</span>);
<a name="l00097"></a>00097                 }
<a name="l00098"></a>00098             }
<a name="l00099"></a>00099             <span class="keywordflow">else</span>
<a name="l00100"></a>00100             {
<a name="l00101"></a>00101                 IntPtr n = Native.Z3_model_get_func_interp(Context.nCtx, NativeObject, f.NativeObject);
<a name="l00102"></a>00102                 <span class="keywordflow">if</span> (n == IntPtr.Zero)
<a name="l00103"></a>00103                     <span class="keywordflow">return</span> null;
<a name="l00104"></a>00104                 <span class="keywordflow">else</span>
<a name="l00105"></a>00105                     <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_microsoft_1_1_z3_1_1_model.html#a7df49079a289dc38841fc4538e6f9d98" title="Retrieves the interpretation (the assignment) of a non-constant f  in the model.">FuncInterp</a>(Context, n);
<a name="l00106"></a>00106             }
<a name="l00107"></a>00107         }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4967770a3f55c3c52057b6b7a033ca8e"></a><!-- doxytag: member="Microsoft::Z3::Model::SortUniverse" ref="a4967770a3f55c3c52057b6b7a033ca8e" args="(Sort s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_microsoft_1_1_z3_1_1_expr.html">Expr</a> [] SortUniverse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_microsoft_1_1_z3_1_1_sort.html">Sort</a>&nbsp;</td>
          <td class="paramname"> <em>s</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The finite set of distinct values that represent the interpretation for sort <em>s</em> . </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class_microsoft_1_1_z3_1_1_model.html#a8b343953e7f61a392d94cfa6940d46e3" title="The uninterpreted sorts that the model has an interpretation for.">Sorts</a></dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>An uninterpreted sort</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>An array of expressions, where each is an element of the universe of <em>s</em> </dd></dl>

<p>Definition at line <a class="el" href="_model_8cs_source.html#l00263">263</a> of file <a class="el" href="_model_8cs_source.html">Model.cs</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00264"></a>00264         {
<a name="l00265"></a>00265             Contract.Requires(s != null);
<a name="l00266"></a>00266             Contract.Ensures(Contract.Result&lt;Expr[]&gt;() != null);
<a name="l00267"></a>00267 
<a name="l00268"></a>00268             ASTVector nUniv = <span class="keyword">new</span> ASTVector(Context, Native.Z3_model_get_sort_universe(Context.nCtx, NativeObject, s.NativeObject));
<a name="l00269"></a>00269             uint n = nUniv.Size;
<a name="l00270"></a>00270             Expr[] res = <span class="keyword">new</span> Expr[n];
<a name="l00271"></a>00271             <span class="keywordflow">for</span> (uint i = 0; i &lt; n; i++)
<a name="l00272"></a>00272                 res[i] = Expr.Create(Context, nUniv[i].NativeObject);
<a name="l00273"></a>00273             <span class="keywordflow">return</span> res;
<a name="l00274"></a>00274         }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa73e7c4dd1df5fd5fbf81c7764ee1533"></a><!-- doxytag: member="Microsoft::Z3::Model::ToString" ref="aa73e7c4dd1df5fd5fbf81c7764ee1533" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">override string ToString </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Conversion of models to strings. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>A string representation of the model.</dd></dl>

<p>Definition at line <a class="el" href="_model_8cs_source.html#l00280">280</a> of file <a class="el" href="_model_8cs_source.html">Model.cs</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00281"></a>00281         {
<a name="l00282"></a>00282             <span class="keywordflow">return</span> Native.Z3_model_to_string(Context.nCtx, NativeObject);
<a name="l00283"></a>00283         }
</pre></div></p>

</div>
</div>
<hr/><h2>Property Documentation</h2>
<a class="anchor" id="aa5ea778ae8a8c5074e085a4dda3716d4"></a><!-- doxytag: member="Microsoft::Z3::Model::ConstDecls" ref="aa5ea778ae8a8c5074e085a4dda3716d4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_microsoft_1_1_z3_1_1_func_decl.html">FuncDecl</a> [] ConstDecls<code> [get]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The function declarations of the constants in the model. </p>

<p>Definition at line <a class="el" href="_model_8cs_source.html#l00121">121</a> of file <a class="el" href="_model_8cs_source.html">Model.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a19baae18f7ac6cb5c07167cf214dd619"></a><!-- doxytag: member="Microsoft::Z3::Model::Decls" ref="a19baae18f7ac6cb5c07167cf214dd619" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_microsoft_1_1_z3_1_1_func_decl.html">FuncDecl</a> [] Decls<code> [get]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>All symbols that have an interpretation in the model. </p>

<p>Definition at line <a class="el" href="_model_8cs_source.html#l00163">163</a> of file <a class="el" href="_model_8cs_source.html">Model.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a4ed2497024f87c16175f5271aa8a3062"></a><!-- doxytag: member="Microsoft::Z3::Model::FuncDecls" ref="a4ed2497024f87c16175f5271aa8a3062" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_microsoft_1_1_z3_1_1_func_decl.html">FuncDecl</a> [] FuncDecls<code> [get]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The function declarations of the function interpretations in the model. </p>

<p>Definition at line <a class="el" href="_model_8cs_source.html#l00146">146</a> of file <a class="el" href="_model_8cs_source.html">Model.cs</a>.</p>

</div>
</div>
<a class="anchor" id="ae7d6ade8e5138f8553295e233ee07781"></a><!-- doxytag: member="Microsoft::Z3::Model::NumConsts" ref="ae7d6ade8e5138f8553295e233ee07781" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint NumConsts<code> [get]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The number of constants that have an interpretation in the model. </p>

<p>Definition at line <a class="el" href="_model_8cs_source.html#l00113">113</a> of file <a class="el" href="_model_8cs_source.html">Model.cs</a>.</p>

</div>
</div>
<a class="anchor" id="ac0a860aa748e43176f43e25ba8e84069"></a><!-- doxytag: member="Microsoft::Z3::Model::NumFuncs" ref="ac0a860aa748e43176f43e25ba8e84069" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint NumFuncs<code> [get]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The number of function interpretations in the model. </p>

<p>Definition at line <a class="el" href="_model_8cs_source.html#l00138">138</a> of file <a class="el" href="_model_8cs_source.html">Model.cs</a>.</p>

</div>
</div>
<a class="anchor" id="af0b6aace6e0efdc429abfc1331ecf29d"></a><!-- doxytag: member="Microsoft::Z3::Model::NumSorts" ref="af0b6aace6e0efdc429abfc1331ecf29d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint NumSorts<code> [get]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The number of uninterpreted sorts that the model has an interpretation for. </p>

<p>Definition at line <a class="el" href="_model_8cs_source.html#l00231">231</a> of file <a class="el" href="_model_8cs_source.html">Model.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a8b343953e7f61a392d94cfa6940d46e3"></a><!-- doxytag: member="Microsoft::Z3::Model::Sorts" ref="a8b343953e7f61a392d94cfa6940d46e3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_microsoft_1_1_z3_1_1_sort.html">Sort</a> [] Sorts<code> [get]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The uninterpreted sorts that the model has an interpretation for. </p>
<p>Z3 also provides an intepretation for uninterpreted sorts used in a formula. The interpretation for a sort is a finite set of distinct values. We say this finite set is the "universe" of the sort.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class_microsoft_1_1_z3_1_1_model.html#af0b6aace6e0efdc429abfc1331ecf29d" title="The number of uninterpreted sorts that the model has an interpretation for.">NumSorts</a>, <a class="el" href="class_microsoft_1_1_z3_1_1_model.html#a4967770a3f55c3c52057b6b7a033ca8e" title="The finite set of distinct values that represent the interpretation for sort s .">SortUniverse</a></dd></dl>

<p>Definition at line <a class="el" href="_model_8cs_source.html#l00244">244</a> of file <a class="el" href="_model_8cs_source.html">Model.cs</a>.</p>

</div>
</div>
</div>
<div class="tabs"></div>
<address style="text-align: right;">
Last modified Thu Aug 9 16:34:48 2012
</BODY>
</HTML>
