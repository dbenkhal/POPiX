 <HTML>
    <HEAD>
    <meta name="author" content="Leonardo de Moura" />
    <meta name="author" content="Nikolaj Bjorner" />
    <meta name="description" content="Z3: theorem prover" />
    <meta name="keywords" content="decision procedure, theorem prover, SMT-LIB, SMTLIB, SMT LIB, SMT Solver, SMTCOMP, SMT-COMP, SAT solver, formal methods, constraint solver, software verification, hardware verification" />
      <TITLE>Z3: Theorem Prover</TITLE>
      <LINK HREF="z3.css" REL="stylesheet" TYPE="text/css">
      <LINK href="tabs.css" rel="stylesheet" type="text/css">
    </HEAD>
<BODY BGCOLOR="#FFFFFF">

<table>
<tr>
<th style="width:120px"><a style="border=0px" class="el" href="index.html"><img border="0" src="z3.png" alt="Z3" /></a></th>
<th style="width:100%">
<div id="nav">
<ul>
<li><a href="download.html">Download</a></li>
<li>/</li>
<li><a href="documentation.html#tutorial">Tutorials</a></li>
<li>/</li>
<li><a href="documentation.html">Documentation</a></li>
<li>/</li>
<li><a href="mail.html">Contact</a></li>
<li>/</li>
<li><a href="faq.html">FAQ</a></li>
<li>/</li>
<li><a href="awards.html">Awards</a></li>
<li>/</li>
<li><a href="http://research.microsoft.com/en-us/groups/rise/default.aspx">RiSE</a></li>
</ul>
</div>
</th>
<th style="width:120px">
<a style="border=0px" class="el" href="http://research.microsoft.com"><img border="0" src="logo_msr.gif" alt="Microsoft Research" />
</th>
</tr>
</table>

<!-- <p> -->
<!-- <img align="middle" src="z3.png" alt="Z3" /> -->
<!-- <table class="centered-small"> -->
<!--   <tr> -->
<!--     <th><a href="index.html"><span>Home</span></a></th> -->
<!--     <th> &bull; </th> -->
<!--     <th><a href="documentation.html"><span>Docs</span></a></th> -->
<!--     <th> &bull; </th> -->
<!--     <th><a href="download.html"><span>Download</span></a></th> -->
<!--     <th> &bull; </th> -->
<!--     <th><a href="mail.html"><span>Mail</span></a></th> -->
<!--     <th> &bull; </th> -->
<!--     <th><a href="faq.html"><span>FAQ</span></a></th> -->
<!--     <th> &bull; </th> -->
<!--     <th><a href="awards.html"><span>Awards</span></a></th> -->
<!--     <th> &bull; </th> -->
<!--     <th><a href="http://research.microsoft.com/en-us/groups/rise/default.aspx"><span>RiSE</span></a></th> -->
<!--     <th> &bull; </th> -->
<!--     <th><a href="http://research.microsoft.com"><span>MSR</span></a></th> -->
<!--   </tr> -->
<!-- </table> -->
<!-- </p> -->

<!-- Generated by Doxygen 1.6.3 -->
<h1>Microsoft.Z3/ApplyResult.cs</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 ï»¿<span class="comment">/*++</span>
<a name="l00002"></a>00002 <span class="comment">Copyright (c) 2012 Microsoft Corporation</span>
<a name="l00003"></a>00003 <span class="comment"></span>
<a name="l00004"></a>00004 <span class="comment">Module Name:</span>
<a name="l00005"></a>00005 <span class="comment"></span>
<a name="l00006"></a>00006 <span class="comment">    ApplyResult.cs</span>
<a name="l00007"></a>00007 <span class="comment"></span>
<a name="l00008"></a>00008 <span class="comment">Abstract:</span>
<a name="l00009"></a>00009 <span class="comment"></span>
<a name="l00010"></a>00010 <span class="comment">    Z3 Managed API: Result object for tactic applications</span>
<a name="l00011"></a>00011 <span class="comment"></span>
<a name="l00012"></a>00012 <span class="comment">Author:</span>
<a name="l00013"></a>00013 <span class="comment"></span>
<a name="l00014"></a>00014 <span class="comment">    Christoph Wintersteiger (cwinter) 2012-03-21</span>
<a name="l00015"></a>00015 <span class="comment"></span>
<a name="l00016"></a>00016 <span class="comment">Notes:</span>
<a name="l00017"></a>00017 <span class="comment">    </span>
<a name="l00018"></a>00018 <span class="comment">--*/</span>
<a name="l00019"></a>00019 
<a name="l00020"></a>00020 <span class="keyword">using</span> System;
<a name="l00021"></a>00021 <span class="keyword">using</span> System.Diagnostics.Contracts;
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="keyword">namespace </span>Microsoft.Z3
<a name="l00024"></a>00024 {
<a name="l00029"></a>00029     [ContractVerification(<span class="keyword">true</span>)]
<a name="l00030"></a><a class="code" href="class_microsoft_1_1_z3_1_1_apply_result.html">00030</a>     <span class="keyword">public</span> <span class="keyword">class </span><a class="code" href="class_microsoft_1_1_z3_1_1_apply_result.html" title="ApplyResult objects represent the result of an application of a tactic to a goal...">ApplyResult</a> : <a class="code" href="class_microsoft_1_1_z3_1_1_z3_object.html" title="Internal base class for interfacing with native Z3 objects. Should not be used externally...">Z3Object</a>
<a name="l00031"></a>00031     {
<a name="l00035"></a>00035         <span class="keyword">public</span> uint NumSubgoals
<a name="l00036"></a><a class="code" href="class_microsoft_1_1_z3_1_1_apply_result.html#a492e550562bde21fabe591cd463260e9">00036</a>         {
<a name="l00037"></a>00037             <span class="keyword">get</span> { <span class="keywordflow">return</span> Native.Z3_apply_result_get_num_subgoals(<a class="code" href="class_microsoft_1_1_z3_1_1_context.html" title="The main interaction with Z3 happens via the Context.">Context</a>.nCtx, NativeObject); }
<a name="l00038"></a>00038         }
<a name="l00039"></a>00039 
<a name="l00043"></a>00043         <span class="keyword">public</span> <a class="code" href="class_microsoft_1_1_z3_1_1_goal.html" title="A goal (aka problem). A goal is essentially a set of formulas, that can be solved...">Goal</a>[] Subgoals
<a name="l00044"></a><a class="code" href="class_microsoft_1_1_z3_1_1_apply_result.html#ae4ac3800b97d2471226b3bac3517ccc5">00044</a>         {
<a name="l00045"></a>00045             <span class="keyword">get</span>
<a name="l00046"></a>00046             {
<a name="l00047"></a>00047               Contract.Ensures(Contract.Result&lt;<a class="code" href="class_microsoft_1_1_z3_1_1_goal.html" title="A goal (aka problem). A goal is essentially a set of formulas, that can be solved...">Goal</a>[]&gt;() != null);
<a name="l00048"></a>00048               Contract.Ensures(Contract.Result&lt;<a class="code" href="class_microsoft_1_1_z3_1_1_goal.html" title="A goal (aka problem). A goal is essentially a set of formulas, that can be solved...">Goal</a>[]&gt;().Length == <span class="keyword">this</span>.NumSubgoals);
<a name="l00049"></a>00049 
<a name="l00050"></a>00050                 uint n = NumSubgoals;
<a name="l00051"></a>00051                 <a class="code" href="class_microsoft_1_1_z3_1_1_goal.html" title="A goal (aka problem). A goal is essentially a set of formulas, that can be solved...">Goal</a>[] res = <span class="keyword">new</span> <a class="code" href="class_microsoft_1_1_z3_1_1_goal.html" title="A goal (aka problem). A goal is essentially a set of formulas, that can be solved...">Goal</a>[n];
<a name="l00052"></a>00052                 <span class="keywordflow">for</span> (uint i = 0; i &lt; n; i++)
<a name="l00053"></a>00053                     res[i] = <span class="keyword">new</span> <a class="code" href="class_microsoft_1_1_z3_1_1_goal.html" title="A goal (aka problem). A goal is essentially a set of formulas, that can be solved...">Goal</a>(<a class="code" href="class_microsoft_1_1_z3_1_1_context.html" title="The main interaction with Z3 happens via the Context.">Context</a>, Native.Z3_apply_result_get_subgoal(<a class="code" href="class_microsoft_1_1_z3_1_1_context.html" title="The main interaction with Z3 happens via the Context.">Context</a>.nCtx, NativeObject, i));
<a name="l00054"></a>00054                 <span class="keywordflow">return</span> res;
<a name="l00055"></a>00055             }
<a name="l00056"></a>00056         }
<a name="l00057"></a>00057 
<a name="l00063"></a><a class="code" href="class_microsoft_1_1_z3_1_1_apply_result.html#ad532489b73f0485cdd53a1c4546bf39d">00063</a>         <span class="keyword">public</span> <a class="code" href="class_microsoft_1_1_z3_1_1_model.html" title="A Model contains interpretations (assignments) of constants and functions.">Model</a> ConvertModel(uint i, <a class="code" href="class_microsoft_1_1_z3_1_1_model.html" title="A Model contains interpretations (assignments) of constants and functions.">Model</a> m)
<a name="l00064"></a>00064         {
<a name="l00065"></a>00065             Contract.Requires(m != null);
<a name="l00066"></a>00066             Contract.Ensures(Contract.Result&lt;<a class="code" href="class_microsoft_1_1_z3_1_1_model.html" title="A Model contains interpretations (assignments) of constants and functions.">Model</a>&gt;() != null);
<a name="l00067"></a>00067 
<a name="l00068"></a>00068             <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_microsoft_1_1_z3_1_1_model.html" title="A Model contains interpretations (assignments) of constants and functions.">Model</a>(<a class="code" href="class_microsoft_1_1_z3_1_1_context.html" title="The main interaction with Z3 happens via the Context.">Context</a>, Native.Z3_apply_result_convert_model(<a class="code" href="class_microsoft_1_1_z3_1_1_context.html" title="The main interaction with Z3 happens via the Context.">Context</a>.nCtx, NativeObject, i, m.NativeObject));
<a name="l00069"></a>00069         }
<a name="l00070"></a>00070 
<a name="l00074"></a><a class="code" href="class_microsoft_1_1_z3_1_1_apply_result.html#aa73e7c4dd1df5fd5fbf81c7764ee1533">00074</a>         <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">string</span> ToString()
<a name="l00075"></a>00075         {
<a name="l00076"></a>00076             <span class="keywordflow">return</span> Native.Z3_apply_result_to_string(<a class="code" href="class_microsoft_1_1_z3_1_1_context.html" title="The main interaction with Z3 happens via the Context.">Context</a>.nCtx, NativeObject);
<a name="l00077"></a>00077         }
<a name="l00078"></a>00078 
<a name="l00079"></a>00079 <span class="preprocessor">        #region Internal</span>
<a name="l00080"></a>00080 <span class="preprocessor"></span>        <span class="keyword">internal</span> <a class="code" href="class_microsoft_1_1_z3_1_1_apply_result.html" title="ApplyResult objects represent the result of an application of a tactic to a goal...">ApplyResult</a>(<a class="code" href="class_microsoft_1_1_z3_1_1_context.html" title="The main interaction with Z3 happens via the Context.">Context</a> ctx, IntPtr obj) : base(ctx, obj) 
<a name="l00081"></a>00081         {
<a name="l00082"></a>00082             Contract.Requires(ctx != null);
<a name="l00083"></a>00083         }
<a name="l00084"></a>00084 
<a name="l00085"></a>00085         <span class="keyword">internal</span> <span class="keyword">class </span>DecRefQueue : Z3.DecRefQueue
<a name="l00086"></a>00086         {
<a name="l00087"></a>00087             <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">void</span> IncRef(Context ctx, IntPtr obj)
<a name="l00088"></a>00088             {
<a name="l00089"></a>00089                 Native.Z3_apply_result_inc_ref(ctx.nCtx, obj);
<a name="l00090"></a>00090             }
<a name="l00091"></a>00091 
<a name="l00092"></a>00092             <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">void</span> DecRef(Context ctx, IntPtr obj)
<a name="l00093"></a>00093             {
<a name="l00094"></a>00094                 Native.Z3_apply_result_dec_ref(ctx.nCtx, obj);
<a name="l00095"></a>00095             }
<a name="l00096"></a>00096         };        
<a name="l00097"></a>00097 
<a name="l00098"></a>00098         <span class="keyword">internal</span> <span class="keyword">override</span> <span class="keywordtype">void</span> IncRef(IntPtr o)
<a name="l00099"></a>00099         {
<a name="l00100"></a>00100             Context.ApplyResult_DRQ.IncAndClear(Context, o);
<a name="l00101"></a>00101             base.IncRef(o);
<a name="l00102"></a>00102         }
<a name="l00103"></a>00103 
<a name="l00104"></a>00104         <span class="keyword">internal</span> <span class="keyword">override</span> <span class="keywordtype">void</span> DecRef(IntPtr o)
<a name="l00105"></a>00105         {
<a name="l00106"></a>00106             Context.ApplyResult_DRQ.Add(o);
<a name="l00107"></a>00107             base.DecRef(o);
<a name="l00108"></a>00108         }
<a name="l00109"></a>00109 <span class="preprocessor">        #endregion</span>
<a name="l00110"></a>00110 <span class="preprocessor"></span>    }
<a name="l00111"></a>00111 }
</pre></div></div>
<div class="tabs"></div>
<address style="text-align: right;">
Last modified Thu Aug 9 16:34:42 2012
</BODY>
</HTML>
