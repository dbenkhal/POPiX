 <HTML>
    <HEAD>
    <meta name="author" content="Leonardo de Moura" />
    <meta name="author" content="Nikolaj Bjorner" />
    <meta name="description" content="Z3: theorem prover" />
    <meta name="keywords" content="decision procedure, theorem prover, SMT-LIB, SMTLIB, SMT LIB, SMT Solver, SMTCOMP, SMT-COMP, SAT solver, formal methods, constraint solver, software verification, hardware verification" />
      <TITLE>Z3: Theorem Prover</TITLE>
      <LINK HREF="z3.css" REL="stylesheet" TYPE="text/css">
      <LINK href="tabs.css" rel="stylesheet" type="text/css">
    </HEAD>
<BODY BGCOLOR="#FFFFFF">

<table>
<tr>
<th style="width:120px"><a style="border=0px" class="el" href="index.html"><img border="0" src="z3.png" alt="Z3" /></a></th>
<th style="width:100%">
<div id="nav">
<ul>
<li><a href="download.html">Download</a></li>
<li>/</li>
<li><a href="documentation.html#tutorial">Tutorials</a></li>
<li>/</li>
<li><a href="documentation.html">Documentation</a></li>
<li>/</li>
<li><a href="mail.html">Contact</a></li>
<li>/</li>
<li><a href="faq.html">FAQ</a></li>
<li>/</li>
<li><a href="awards.html">Awards</a></li>
<li>/</li>
<li><a href="http://research.microsoft.com/en-us/groups/rise/default.aspx">RiSE</a></li>
</ul>
</div>
</th>
<th style="width:120px">
<a style="border=0px" class="el" href="http://research.microsoft.com"><img border="0" src="logo_msr.gif" alt="Microsoft Research" />
</th>
</tr>
</table>

<!-- <p> -->
<!-- <img align="middle" src="z3.png" alt="Z3" /> -->
<!-- <table class="centered-small"> -->
<!--   <tr> -->
<!--     <th><a href="index.html"><span>Home</span></a></th> -->
<!--     <th> &bull; </th> -->
<!--     <th><a href="documentation.html"><span>Docs</span></a></th> -->
<!--     <th> &bull; </th> -->
<!--     <th><a href="download.html"><span>Download</span></a></th> -->
<!--     <th> &bull; </th> -->
<!--     <th><a href="mail.html"><span>Mail</span></a></th> -->
<!--     <th> &bull; </th> -->
<!--     <th><a href="faq.html"><span>FAQ</span></a></th> -->
<!--     <th> &bull; </th> -->
<!--     <th><a href="awards.html"><span>Awards</span></a></th> -->
<!--     <th> &bull; </th> -->
<!--     <th><a href="http://research.microsoft.com/en-us/groups/rise/default.aspx"><span>RiSE</span></a></th> -->
<!--     <th> &bull; </th> -->
<!--     <th><a href="http://research.microsoft.com"><span>MSR</span></a></th> -->
<!--   </tr> -->
<!-- </table> -->
<!-- </p> -->

<!-- Generated by Doxygen 1.6.3 -->
  <div class="navpath"><b>PA</b>::<a class="el" href="class_p_a_1_1_solver.html">Solver</a>
  </div>
<div class="contents">
<h1>Solver Class Reference</h1><!-- doxytag: class="PA::Solver" --><!-- doxytag: inherits="IDisposable" -->
<p><a class="el" href="class_p_a_1_1_solver.html" title="Solver for Presburger Arithmetic formulas.">Solver</a> for Presburger Arithmetic formulas.  
<a href="#_details">More...</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_a_1_1_solver.html#a307b0099d5a42a4bf85a56d29c48a6c2">Solver</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create an instance of a context for the solver.  <a href="#a307b0099d5a42a4bf85a56d29c48a6c2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">LinearFormula&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_a_1_1_solver.html#a1262ee589183c061e3db0fb5c39af8ff">CoopersAlgorithm</a> (LinearFormula f)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Top-level call of Coopers quantifier elimination algorithm. Eliminates quantifiers starting with the innermost quantified formulas. Returns a formula that is quantifier free and is equivalent to f.  <a href="#a1262ee589183c061e3db0fb5c39af8ff"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">LinearFormula&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_a_1_1_solver.html#a8e968d6fda3bcb605b4a6f938e5bbe9d">CoopersAlgorithm1</a> (LinearFormula f)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Assumes that f is in prenex form and variables with the same kind of quantifier are grouped together.  <a href="#a8e968d6fda3bcb605b4a6f938e5bbe9d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Term&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_a_1_1_solver.html#a3daa7394088d49195c7ba5beb7768924">ToZ3Term</a> (LinearTerm t)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert the given linear term to a Z3 term.  <a href="#a3daa7394088d49195c7ba5beb7768924"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Term&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_a_1_1_solver.html#a6b6466a1a3c67709560613ac38697364">ToZ3Formula</a> (LinearFormula t)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert the given PA formula t to a Z3 formula (throws ArgumentException if t includes quantifiers).  <a href="#a6b6466a1a3c67709560613ac38697364"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">LBool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_a_1_1_solver.html#a5381b47833667566da3207539dfbe69b">IsSat</a> (LinearFormula f)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Checks if f is satisfiable without changing the current context. Returns LBool.True if f is satisfiable, returns LBool.Undef upon timeout. (Throws ArgumentException if f includes quantifiers).  <a href="#a5381b47833667566da3207539dfbe69b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">LBool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_a_1_1_solver.html#a338b5a83abb0751e1485885f7f6f513a">Check</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns LBool.True if the current constraints are satisfiable Returns LBool.Undef upon timeout.  <a href="#a338b5a83abb0751e1485885f7f6f513a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">LBool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_a_1_1_solver.html#a53a0946303084bd8355a020f6fcadc9f">IsSat</a> (LinearFormula f, out PAModel model)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Checks if f is satisfiable without changing the current context. Returns LBool.True and a model if f is satisfiable, returns LBool.Undef upon timeout. (Throws ArgumentException if f includes quantifiers).  <a href="#a53a0946303084bd8355a020f6fcadc9f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_a_1_1_solver.html#a447d9c1a5a8c1d7ea7ff8d1b8c9a834c">Push</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pushes the current context as a new backtrack point.  <a href="#a447d9c1a5a8c1d7ea7ff8d1b8c9a834c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_a_1_1_solver.html#a701a584ce72cccbcce9cb0656b6c898b">Pop</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns to the previously pushed context.  <a href="#a701a584ce72cccbcce9cb0656b6c898b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_a_1_1_solver.html#a66e717ba8a739ac2f4b1c22b1e49cda6">AddConstraint</a> (LinearFormula f)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds the constraint f to the current context (throws ArgumentException if f includes quantifiers).  <a href="#a66e717ba8a739ac2f4b1c22b1e49cda6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">LBool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_a_1_1_solver.html#ac602759713bc222730d629a83fa73ea1">CheckAndGetModel</a> (out PAModel model)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Checks and returns a model if the constraints in the current context are satisfiable (returns LBool.Undef in case of timeout).  <a href="#ac602759713bc222730d629a83fa73ea1"></a><br/></td></tr>
<tr><td colspan="2"><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_a_1_1_solver.html#ae5830f5780068ae444c1fa7172ac270b">LCM</a> (IEnumerable&lt; int &gt; ks)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Calculate the least common multiple of the coefficients in the given enumeration. The enumeration is assumed to contain only nonzero elements. Returns -1 if the enumeration is empty.  <a href="#ae5830f5780068ae444c1fa7172ac270b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_a_1_1_solver.html#ac2357c25735747b74a123bedda121bb1">LCM</a> (int m, int k)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Calculate the least common multiple of m and k (m must be positive and k must be nonzero).  <a href="#ac2357c25735747b74a123bedda121bb1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_a_1_1_solver.html#a39846e1a0944917a17981dd99fa5d6ad">GCD</a> (int a, int b)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Euclides algorithm. Calculate the greatest common divisor of a and b. It is assumed that b is greater that 0 and a is non-negative.  <a href="#a39846e1a0944917a17981dd99fa5d6ad"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p><a class="el" href="class_p_a_1_1_solver.html" title="Solver for Presburger Arithmetic formulas.">Solver</a> for Presburger Arithmetic formulas. </p>

<p>Definition at line <a class="el" href="_power_pack_2_p_a_solver_2_p_a_solver_2_solver_8cs_source.html#l00013">13</a> of file <a class="el" href="_power_pack_2_p_a_solver_2_p_a_solver_2_solver_8cs_source.html">Solver.cs</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a307b0099d5a42a4bf85a56d29c48a6c2"></a><!-- doxytag: member="PA::Solver::Solver" ref="a307b0099d5a42a4bf85a56d29c48a6c2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_p_a_1_1_solver.html">Solver</a> </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create an instance of a context for the solver. </p>

<p>Definition at line <a class="el" href="_power_pack_2_p_a_solver_2_p_a_solver_2_solver_8cs_source.html#l00021">21</a> of file <a class="el" href="_power_pack_2_p_a_solver_2_p_a_solver_2_solver_8cs_source.html">Solver.cs</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00022"></a>00022         {
<a name="l00023"></a>00023             Config par = <span class="keyword">new</span> Config();
<a name="l00024"></a>00024             par.SetParamValue(<span class="stringliteral">&quot;MODEL&quot;</span>, <span class="stringliteral">&quot;true&quot;</span>);
<a name="l00025"></a>00025             par.SetParamValue(<span class="stringliteral">&quot;ARITH_LAZY_PIVOTING&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>);
<a name="l00026"></a>00026             z3 = <span class="keyword">new</span> <a class="code" href="class_microsoft_1_1_z3_1_1_context.html" title="The main interaction with Z3 happens via the Context.">Context</a>(par);
<a name="l00027"></a>00027             intSort = z3.<a class="code" href="class_microsoft_1_1_z3_1_1_context.html#abb672e544c391748b081e4219e5670a0" title="Create a new integer sort.">MkIntSort</a>();
<a name="l00028"></a>00028             zero = z3.<a class="code" href="class_microsoft_1_1_z3_1_1_context.html#ac9d2339a750d5ea92b6ec341d2b308c8" title="Create a Term of a given sort.">MkNumeral</a>(0, intSort);
<a name="l00029"></a>00029             par.Dispose();
<a name="l00030"></a>00030         }
</pre></div></p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a66e717ba8a739ac2f4b1c22b1e49cda6"></a><!-- doxytag: member="PA::Solver::AddConstraint" ref="a66e717ba8a739ac2f4b1c22b1e49cda6" args="(LinearFormula f)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AddConstraint </td>
          <td>(</td>
          <td class="paramtype">LinearFormula&nbsp;</td>
          <td class="paramname"> <em>f</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Adds the constraint f to the current context (throws ArgumentException if f includes quantifiers). </p>

<p>Definition at line <a class="el" href="_power_pack_2_p_a_solver_2_p_a_solver_2_solver_8cs_source.html#l00630">630</a> of file <a class="el" href="_power_pack_2_p_a_solver_2_p_a_solver_2_solver_8cs_source.html">Solver.cs</a>.</p>

<p>Referenced by <a class="el" href="_power_pack_2_p_a_solver_2_p_a_solver_2_solver_8cs_source.html#l00578">Solver::IsSat()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00631"></a>00631         {
<a name="l00632"></a>00632             Term zf = <a class="code" href="class_p_a_1_1_solver.html#a6b6466a1a3c67709560613ac38697364" title="Convert the given PA formula t to a Z3 formula (throws ArgumentException if t includes...">ToZ3Formula</a>(f);
<a name="l00633"></a>00633             z3.AssertCnstr(zf);
<a name="l00634"></a>00634         }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a338b5a83abb0751e1485885f7f6f513a"></a><!-- doxytag: member="PA::Solver::Check" ref="a338b5a83abb0751e1485885f7f6f513a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LBool Check </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns LBool.True if the current constraints are satisfiable Returns LBool.Undef upon timeout. </p>

<p>Definition at line <a class="el" href="_power_pack_2_p_a_solver_2_p_a_solver_2_solver_8cs_source.html#l00591">591</a> of file <a class="el" href="_power_pack_2_p_a_solver_2_p_a_solver_2_solver_8cs_source.html">Solver.cs</a>.</p>

<p>Referenced by <a class="el" href="_power_pack_2_p_a_solver_2_p_a_solver_2_solver_8cs_source.html#l00578">Solver::IsSat()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00592"></a>00592         {
<a name="l00593"></a>00593             <span class="keywordflow">return</span> z3.Check();
<a name="l00594"></a>00594         }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac602759713bc222730d629a83fa73ea1"></a><!-- doxytag: member="PA::Solver::CheckAndGetModel" ref="ac602759713bc222730d629a83fa73ea1" args="(out PAModel model)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LBool CheckAndGetModel </td>
          <td>(</td>
          <td class="paramtype">out PAModel&nbsp;</td>
          <td class="paramname"> <em>model</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Checks and returns a model if the constraints in the current context are satisfiable (returns LBool.Undef in case of timeout). </p>

<p>Definition at line <a class="el" href="_power_pack_2_p_a_solver_2_p_a_solver_2_solver_8cs_source.html#l00640">640</a> of file <a class="el" href="_power_pack_2_p_a_solver_2_p_a_solver_2_solver_8cs_source.html">Solver.cs</a>.</p>

<p>Referenced by <a class="el" href="_power_pack_2_p_a_solver_2_p_a_solver_2_solver_8cs_source.html#l00601">Solver::IsSat()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00641"></a>00641         {
<a name="l00642"></a>00642             <a class="code" href="class_microsoft_1_1_z3_1_1_model.html" title="A Model contains interpretations (assignments) of constants and functions.">Model</a> z3model;
<a name="l00643"></a>00643             <a class="code" href="group__mapi.html#ga2a6d3c91705945a27b9f264add662179" title="Lifted Booleans.">LBool</a> res = z3.CheckAndGetModel(out z3model);
<a name="l00644"></a>00644             <span class="keywordflow">if</span> (res == <a class="code" href="group__mapi.html#ga2a6d3c91705945a27b9f264add662179" title="Lifted Booleans.">LBool</a>.True)
<a name="l00645"></a>00645                 model = <span class="keyword">new</span> PAModel(<span class="keyword">this</span>, z3model);
<a name="l00646"></a>00646             <span class="keywordflow">else</span>
<a name="l00647"></a>00647                 model = null;
<a name="l00648"></a>00648             <span class="keywordflow">return</span> res;
<a name="l00649"></a>00649         }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1262ee589183c061e3db0fb5c39af8ff"></a><!-- doxytag: member="PA::Solver::CoopersAlgorithm" ref="a1262ee589183c061e3db0fb5c39af8ff" args="(LinearFormula f)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LinearFormula CoopersAlgorithm </td>
          <td>(</td>
          <td class="paramtype">LinearFormula&nbsp;</td>
          <td class="paramname"> <em>f</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Top-level call of Coopers quantifier elimination algorithm. Eliminates quantifiers starting with the innermost quantified formulas. Returns a formula that is quantifier free and is equivalent to f. </p>

<p>Definition at line <a class="el" href="_power_pack_2_p_a_solver_2_p_a_solver_2_solver_8cs_source.html#l00037">37</a> of file <a class="el" href="_power_pack_2_p_a_solver_2_p_a_solver_2_solver_8cs_source.html">Solver.cs</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00038"></a>00038         {
<a name="l00039"></a>00039             <span class="keywordflow">if</span> (f.IsQuantifierFree)
<a name="l00040"></a>00040                 <span class="keywordflow">return</span> f;
<a name="l00041"></a>00041 
<a name="l00042"></a>00042             f = GetPrenexForm(f);
<a name="l00043"></a>00043 
<a name="l00044"></a>00044             LinearFormula res = <a class="code" href="class_p_a_1_1_solver.html#a8e968d6fda3bcb605b4a6f938e5bbe9d" title="Assumes that f is in prenex form and variables with the same kind of quantifier are...">CoopersAlgorithm1</a>(f);
<a name="l00045"></a>00045             <span class="keywordflow">return</span> res;
<a name="l00046"></a>00046         }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8e968d6fda3bcb605b4a6f938e5bbe9d"></a><!-- doxytag: member="PA::Solver::CoopersAlgorithm1" ref="a8e968d6fda3bcb605b4a6f938e5bbe9d" args="(LinearFormula f)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LinearFormula CoopersAlgorithm1 </td>
          <td>(</td>
          <td class="paramtype">LinearFormula&nbsp;</td>
          <td class="paramname"> <em>f</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Assumes that f is in prenex form and variables with the same kind of quantifier are grouped together. </p>

<p>Definition at line <a class="el" href="_power_pack_2_p_a_solver_2_p_a_solver_2_solver_8cs_source.html#l00051">51</a> of file <a class="el" href="_power_pack_2_p_a_solver_2_p_a_solver_2_solver_8cs_source.html">Solver.cs</a>.</p>

<p>Referenced by <a class="el" href="_power_pack_2_p_a_solver_2_p_a_solver_2_solver_8cs_source.html#l00037">Solver::CoopersAlgorithm()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00052"></a>00052         {
<a name="l00053"></a>00053             QuantifiedFormula f1 = f as QuantifiedFormula;
<a name="l00054"></a>00054             <span class="keywordflow">if</span> (f1 != null)
<a name="l00055"></a>00055             {
<a name="l00056"></a>00056                 LinearFormula f2 = <a class="code" href="class_p_a_1_1_solver.html#a8e968d6fda3bcb605b4a6f938e5bbe9d" title="Assumes that f is in prenex form and variables with the same kind of quantifier are...">CoopersAlgorithm1</a>(f1.Formula);
<a name="l00057"></a>00057                 <span class="keywordflow">if</span> (f1.IsExists)
<a name="l00058"></a>00058                     <span class="keywordflow">return</span> EliminateExs(f1.Variables, f2);
<a name="l00059"></a>00059                 <span class="keywordflow">else</span>
<a name="l00060"></a>00060                     <span class="keywordflow">return</span> ~EliminateExs(f1.Variables, ~f2);
<a name="l00061"></a>00061             }
<a name="l00062"></a>00062             <span class="keywordflow">return</span> f;
<a name="l00063"></a>00063         }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a39846e1a0944917a17981dd99fa5d6ad"></a><!-- doxytag: member="PA::Solver::GCD" ref="a39846e1a0944917a17981dd99fa5d6ad" args="(int a, int b)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int GCD </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>b</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Euclides algorithm. Calculate the greatest common divisor of a and b. It is assumed that b is greater that 0 and a is non-negative. </p>

<p>Definition at line <a class="el" href="_power_pack_2_p_a_solver_2_p_a_solver_2_solver_8cs_source.html#l00384">384</a> of file <a class="el" href="_power_pack_2_p_a_solver_2_p_a_solver_2_solver_8cs_source.html">Solver.cs</a>.</p>

<p>Referenced by <a class="el" href="_power_pack_2_p_a_solver_2_p_a_solver_2_solver_8cs_source.html#l00352">Solver::LCM()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00385"></a>00385         {
<a name="l00386"></a>00386             <span class="comment">//if (a == 0)</span>
<a name="l00387"></a>00387             <span class="comment">//    return b;</span>
<a name="l00388"></a>00388             <span class="keywordflow">while</span> (b &gt; 0)
<a name="l00389"></a>00389             {
<a name="l00390"></a>00390                 <span class="keywordtype">int</span> tmp = b;
<a name="l00391"></a>00391                 b = a % b;
<a name="l00392"></a>00392                 a = tmp;
<a name="l00393"></a>00393             }
<a name="l00394"></a>00394             <span class="keywordflow">return</span> a;
<a name="l00395"></a>00395         }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a53a0946303084bd8355a020f6fcadc9f"></a><!-- doxytag: member="PA::Solver::IsSat" ref="a53a0946303084bd8355a020f6fcadc9f" args="(LinearFormula f, out PAModel model)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LBool IsSat </td>
          <td>(</td>
          <td class="paramtype">LinearFormula&nbsp;</td>
          <td class="paramname"> <em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">out PAModel&nbsp;</td>
          <td class="paramname"> <em>model</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Checks if f is satisfiable without changing the current context. Returns LBool.True and a model if f is satisfiable, returns LBool.Undef upon timeout. (Throws ArgumentException if f includes quantifiers). </p>

<p>Definition at line <a class="el" href="_power_pack_2_p_a_solver_2_p_a_solver_2_solver_8cs_source.html#l00601">601</a> of file <a class="el" href="_power_pack_2_p_a_solver_2_p_a_solver_2_solver_8cs_source.html">Solver.cs</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00602"></a>00602         {
<a name="l00603"></a>00603             <a class="code" href="class_p_a_1_1_solver.html#a447d9c1a5a8c1d7ea7ff8d1b8c9a834c" title="Pushes the current context as a new backtrack point.">Push</a>();
<a name="l00604"></a>00604             <a class="code" href="class_p_a_1_1_solver.html#a66e717ba8a739ac2f4b1c22b1e49cda6" title="Adds the constraint f to the current context (throws ArgumentException if f includes...">AddConstraint</a>(f);
<a name="l00605"></a>00605             <a class="code" href="group__mapi.html#ga2a6d3c91705945a27b9f264add662179" title="Lifted Booleans.">LBool</a> res = <a class="code" href="class_p_a_1_1_solver.html#ac602759713bc222730d629a83fa73ea1" title="Checks and returns a model if the constraints in the current context are satisfiable...">CheckAndGetModel</a>(out model);
<a name="l00606"></a>00606             <a class="code" href="class_p_a_1_1_solver.html#a701a584ce72cccbcce9cb0656b6c898b" title="Returns to the previously pushed context.">Pop</a>();
<a name="l00607"></a>00607             <span class="keywordflow">return</span> res;
<a name="l00608"></a>00608         }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5381b47833667566da3207539dfbe69b"></a><!-- doxytag: member="PA::Solver::IsSat" ref="a5381b47833667566da3207539dfbe69b" args="(LinearFormula f)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LBool IsSat </td>
          <td>(</td>
          <td class="paramtype">LinearFormula&nbsp;</td>
          <td class="paramname"> <em>f</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Checks if f is satisfiable without changing the current context. Returns LBool.True if f is satisfiable, returns LBool.Undef upon timeout. (Throws ArgumentException if f includes quantifiers). </p>

<p>Definition at line <a class="el" href="_power_pack_2_p_a_solver_2_p_a_solver_2_solver_8cs_source.html#l00578">578</a> of file <a class="el" href="_power_pack_2_p_a_solver_2_p_a_solver_2_solver_8cs_source.html">Solver.cs</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00579"></a>00579         {
<a name="l00580"></a>00580             <a class="code" href="class_p_a_1_1_solver.html#a447d9c1a5a8c1d7ea7ff8d1b8c9a834c" title="Pushes the current context as a new backtrack point.">Push</a>();
<a name="l00581"></a>00581             <a class="code" href="class_p_a_1_1_solver.html#a66e717ba8a739ac2f4b1c22b1e49cda6" title="Adds the constraint f to the current context (throws ArgumentException if f includes...">AddConstraint</a>(f);
<a name="l00582"></a>00582             <a class="code" href="group__mapi.html#ga2a6d3c91705945a27b9f264add662179" title="Lifted Booleans.">LBool</a> res = <a class="code" href="class_p_a_1_1_solver.html#a338b5a83abb0751e1485885f7f6f513a" title="Returns LBool.True if the current constraints are satisfiable Returns LBool.Undef...">Check</a>();
<a name="l00583"></a>00583             <a class="code" href="class_p_a_1_1_solver.html#a701a584ce72cccbcce9cb0656b6c898b" title="Returns to the previously pushed context.">Pop</a>();
<a name="l00584"></a>00584             <span class="keywordflow">return</span> res;
<a name="l00585"></a>00585         }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac2357c25735747b74a123bedda121bb1"></a><!-- doxytag: member="PA::Solver::LCM" ref="ac2357c25735747b74a123bedda121bb1" args="(int m, int k)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int LCM </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>k</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Calculate the least common multiple of m and k (m must be positive and k must be nonzero). </p>

<p>Definition at line <a class="el" href="_power_pack_2_p_a_solver_2_p_a_solver_2_solver_8cs_source.html#l00370">370</a> of file <a class="el" href="_power_pack_2_p_a_solver_2_p_a_solver_2_solver_8cs_source.html">Solver.cs</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00371"></a>00371         {
<a name="l00372"></a>00372             <span class="keywordtype">int</span> n = Math.Abs(k);
<a name="l00373"></a>00373             <span class="keywordflow">if</span> (m &lt; n)
<a name="l00374"></a>00374                 m = (m / <a class="code" href="class_p_a_1_1_solver.html#a39846e1a0944917a17981dd99fa5d6ad" title="Euclides algorithm. Calculate the greatest common divisor of a and b. It is assumed...">GCD</a>(n, m)) * n;
<a name="l00375"></a>00375             <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m &gt; n)
<a name="l00376"></a>00376                 m = (n / <a class="code" href="class_p_a_1_1_solver.html#a39846e1a0944917a17981dd99fa5d6ad" title="Euclides algorithm. Calculate the greatest common divisor of a and b. It is assumed...">GCD</a>(m, n)) * m;
<a name="l00377"></a>00377             <span class="keywordflow">return</span> m;
<a name="l00378"></a>00378         }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae5830f5780068ae444c1fa7172ac270b"></a><!-- doxytag: member="PA::Solver::LCM" ref="ae5830f5780068ae444c1fa7172ac270b" args="(IEnumerable&lt; int &gt; ks)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int LCM </td>
          <td>(</td>
          <td class="paramtype">IEnumerable&lt; int &gt;&nbsp;</td>
          <td class="paramname"> <em>ks</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Calculate the least common multiple of the coefficients in the given enumeration. The enumeration is assumed to contain only nonzero elements. Returns -1 if the enumeration is empty. </p>

<p>Definition at line <a class="el" href="_power_pack_2_p_a_solver_2_p_a_solver_2_solver_8cs_source.html#l00352">352</a> of file <a class="el" href="_power_pack_2_p_a_solver_2_p_a_solver_2_solver_8cs_source.html">Solver.cs</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00353"></a>00353         {
<a name="l00354"></a>00354             <span class="keywordtype">int</span> m = -1;
<a name="l00355"></a>00355             <span class="keywordflow">foreach</span> (<span class="keywordtype">int</span> k <span class="keywordflow">in</span> ks)
<a name="l00356"></a>00356             {
<a name="l00357"></a>00357                 m = Math.Abs(m);
<a name="l00358"></a>00358                 <span class="keywordtype">int</span> n = Math.Abs(k);
<a name="l00359"></a>00359                 <span class="keywordflow">if</span> (m &lt; n)
<a name="l00360"></a>00360                     m = (m / <a class="code" href="class_p_a_1_1_solver.html#a39846e1a0944917a17981dd99fa5d6ad" title="Euclides algorithm. Calculate the greatest common divisor of a and b. It is assumed...">GCD</a>(n, m)) * n;
<a name="l00361"></a>00361                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m &gt; n)
<a name="l00362"></a>00362                     m = (n / <a class="code" href="class_p_a_1_1_solver.html#a39846e1a0944917a17981dd99fa5d6ad" title="Euclides algorithm. Calculate the greatest common divisor of a and b. It is assumed...">GCD</a>(m, n)) * m;
<a name="l00363"></a>00363             }
<a name="l00364"></a>00364             <span class="keywordflow">return</span> m;
<a name="l00365"></a>00365         }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a701a584ce72cccbcce9cb0656b6c898b"></a><!-- doxytag: member="PA::Solver::Pop" ref="a701a584ce72cccbcce9cb0656b6c898b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Pop </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns to the previously pushed context. </p>

<p>Definition at line <a class="el" href="_power_pack_2_p_a_solver_2_p_a_solver_2_solver_8cs_source.html#l00621">621</a> of file <a class="el" href="_power_pack_2_p_a_solver_2_p_a_solver_2_solver_8cs_source.html">Solver.cs</a>.</p>

<p>Referenced by <a class="el" href="_power_pack_2_p_a_solver_2_p_a_solver_2_solver_8cs_source.html#l00578">Solver::IsSat()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00622"></a>00622         {
<a name="l00623"></a>00623             z3.Pop();
<a name="l00624"></a>00624         }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a447d9c1a5a8c1d7ea7ff8d1b8c9a834c"></a><!-- doxytag: member="PA::Solver::Push" ref="a447d9c1a5a8c1d7ea7ff8d1b8c9a834c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Push </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Pushes the current context as a new backtrack point. </p>

<p>Definition at line <a class="el" href="_power_pack_2_p_a_solver_2_p_a_solver_2_solver_8cs_source.html#l00613">613</a> of file <a class="el" href="_power_pack_2_p_a_solver_2_p_a_solver_2_solver_8cs_source.html">Solver.cs</a>.</p>

<p>Referenced by <a class="el" href="_power_pack_2_p_a_solver_2_p_a_solver_2_solver_8cs_source.html#l00578">Solver::IsSat()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00614"></a>00614         {
<a name="l00615"></a>00615             z3.Push();
<a name="l00616"></a>00616         }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a6b6466a1a3c67709560613ac38697364"></a><!-- doxytag: member="PA::Solver::ToZ3Formula" ref="a6b6466a1a3c67709560613ac38697364" args="(LinearFormula t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Term ToZ3Formula </td>
          <td>(</td>
          <td class="paramtype">LinearFormula&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Convert the given PA formula t to a Z3 formula (throws ArgumentException if t includes quantifiers). </p>

<p>Definition at line <a class="el" href="_power_pack_2_p_a_solver_2_p_a_solver_2_solver_8cs_source.html#l00515">515</a> of file <a class="el" href="_power_pack_2_p_a_solver_2_p_a_solver_2_solver_8cs_source.html">Solver.cs</a>.</p>

<p>Referenced by <a class="el" href="_power_pack_2_p_a_solver_2_p_a_solver_2_solver_8cs_source.html#l00630">Solver::AddConstraint()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00516"></a>00516         {
<a name="l00517"></a>00517             <span class="keywordflow">if</span> (t is LinearAtom)
<a name="l00518"></a>00518             {
<a name="l00519"></a>00519                 LE le = t as LE;
<a name="l00520"></a>00520                 <span class="keywordflow">if</span> (le != null)
<a name="l00521"></a>00521                     <span class="keywordflow">return</span> z3.<a class="code" href="class_microsoft_1_1_z3_1_1_context.html#a1d13462c9cd1d38636a0c332148abae4" title="Create an expression representing t1 &amp;lt;= t2">MkLe</a>(<a class="code" href="class_p_a_1_1_solver.html#a3daa7394088d49195c7ba5beb7768924" title="Convert the given linear term to a Z3 term.">ToZ3Term</a>(le.T), zero);
<a name="l00522"></a>00522                 DIV div = (DIV)t;
<a name="l00523"></a>00523                 <span class="keywordflow">if</span> (div.IsDiv)
<a name="l00524"></a>00524                     <span class="keywordflow">return</span> z3MkDiv(z3.<a class="code" href="class_microsoft_1_1_z3_1_1_context.html#ac9d2339a750d5ea92b6ec341d2b308c8" title="Create a Term of a given sort.">MkNumeral</a>(div.D, intSort), <a class="code" href="class_p_a_1_1_solver.html#a3daa7394088d49195c7ba5beb7768924" title="Convert the given linear term to a Z3 term.">ToZ3Term</a>(div.T));
<a name="l00525"></a>00525                 <span class="keywordflow">else</span>
<a name="l00526"></a>00526                     <span class="keywordflow">return</span> z3.<a class="code" href="class_microsoft_1_1_z3_1_1_context.html#a30035dfa3d793ae384fffeaf7dab5bab" title="Mk an expression representing not(a).">MkNot</a>(z3MkDiv(z3.<a class="code" href="class_microsoft_1_1_z3_1_1_context.html#ac9d2339a750d5ea92b6ec341d2b308c8" title="Create a Term of a given sort.">MkNumeral</a>(div.D, intSort), <a class="code" href="class_p_a_1_1_solver.html#a3daa7394088d49195c7ba5beb7768924" title="Convert the given linear term to a Z3 term.">ToZ3Term</a>(div.T)));
<a name="l00527"></a>00527             }
<a name="l00528"></a>00528             <span class="keywordflow">else</span>
<a name="l00529"></a>00529             {
<a name="l00530"></a>00530                 Disjunction disj = t as Disjunction;
<a name="l00531"></a>00531                 <span class="keywordflow">if</span> (disj != null)
<a name="l00532"></a>00532                 {
<a name="l00533"></a>00533                     Term[] disjs = <span class="keyword">new</span> Term[disj.fms.Count];
<a name="l00534"></a>00534                     <span class="keywordtype">int</span> i = 0;
<a name="l00535"></a>00535                     <span class="keywordflow">foreach</span> (LinearFormula f <span class="keywordflow">in</span> disj.fms)
<a name="l00536"></a>00536                         disjs[i++] = <a class="code" href="class_p_a_1_1_solver.html#a6b6466a1a3c67709560613ac38697364" title="Convert the given PA formula t to a Z3 formula (throws ArgumentException if t includes...">ToZ3Formula</a>(f);
<a name="l00537"></a>00537                     <span class="keywordflow">return</span> z3.<a class="code" href="class_microsoft_1_1_z3_1_1_context.html#abc7813b246aa0a214b58d61f742f0808" title="Create an expression representing t[0] or t[1] or ....">MkOr</a>(disjs);
<a name="l00538"></a>00538                 }
<a name="l00539"></a>00539                 Conjunction conj = t as Conjunction;
<a name="l00540"></a>00540                 <span class="keywordflow">if</span> (conj != null)
<a name="l00541"></a>00541                 {
<a name="l00542"></a>00542                     Term[] conjs = <span class="keyword">new</span> Term[conj.fms.Count];
<a name="l00543"></a>00543                     <span class="keywordtype">int</span> i = 0;
<a name="l00544"></a>00544                     <span class="keywordflow">foreach</span> (LinearFormula f <span class="keywordflow">in</span> conj.fms)
<a name="l00545"></a>00545                         conjs[i++] = <a class="code" href="class_p_a_1_1_solver.html#a6b6466a1a3c67709560613ac38697364" title="Convert the given PA formula t to a Z3 formula (throws ArgumentException if t includes...">ToZ3Formula</a>(f);
<a name="l00546"></a>00546                     <span class="keywordflow">return</span> z3.<a class="code" href="class_microsoft_1_1_z3_1_1_context.html#a8d71f67aa7ad851c2aa1ed5693737a77" title="Create an expression representing t[0] and t[1] and ....">MkAnd</a>(conjs);
<a name="l00547"></a>00547                 }
<a name="l00548"></a>00548                 BigOR bq = t as BigOR;
<a name="l00549"></a>00549                 <span class="keywordflow">if</span> (bq != null)
<a name="l00550"></a>00550                 {
<a name="l00551"></a>00551                     List&lt;Term&gt; bounds = <span class="keyword">new</span> List&lt;Term&gt;();
<a name="l00552"></a>00552                     <span class="keywordflow">foreach</span> (BoundedVariable v <span class="keywordflow">in</span> bq.Vars)
<a name="l00553"></a>00553                     {
<a name="l00554"></a>00554                         Term bound = z3.<a class="code" href="class_microsoft_1_1_z3_1_1_context.html#a8d71f67aa7ad851c2aa1ed5693737a77" title="Create an expression representing t[0] and t[1] and ....">MkAnd</a>(z3.<a class="code" href="class_microsoft_1_1_z3_1_1_context.html#a1d13462c9cd1d38636a0c332148abae4" title="Create an expression representing t1 &amp;lt;= t2">MkLe</a>(z3.<a class="code" href="class_microsoft_1_1_z3_1_1_context.html#ac9d2339a750d5ea92b6ec341d2b308c8" title="Create a Term of a given sort.">MkNumeral</a>(v.lower, intSort), z3.<a class="code" href="class_microsoft_1_1_z3_1_1_context.html#a8ca84ff84e3488b10c965b5eaca146cc" title="Creates a new Constant of sort range  and named name .">MkConst</a>(v.var, intSort)),
<a name="l00555"></a>00555                                               z3.<a class="code" href="class_microsoft_1_1_z3_1_1_context.html#a1d13462c9cd1d38636a0c332148abae4" title="Create an expression representing t1 &amp;lt;= t2">MkLe</a>(z3.<a class="code" href="class_microsoft_1_1_z3_1_1_context.html#a8ca84ff84e3488b10c965b5eaca146cc" title="Creates a new Constant of sort range  and named name .">MkConst</a>(v.var, intSort), z3.<a class="code" href="class_microsoft_1_1_z3_1_1_context.html#ac9d2339a750d5ea92b6ec341d2b308c8" title="Create a Term of a given sort.">MkNumeral</a>(v.upper, intSort)));
<a name="l00556"></a>00556                         bounds.Add(bound);
<a name="l00557"></a>00557                     }
<a name="l00558"></a>00558                     Term divs = <a class="code" href="class_p_a_1_1_solver.html#a6b6466a1a3c67709560613ac38697364" title="Convert the given PA formula t to a Z3 formula (throws ArgumentException if t includes...">ToZ3Formula</a>(bq.Divs);
<a name="l00559"></a>00559                     
<a name="l00560"></a>00560                     Term f = <a class="code" href="class_p_a_1_1_solver.html#a6b6466a1a3c67709560613ac38697364" title="Convert the given PA formula t to a Z3 formula (throws ArgumentException if t includes...">ToZ3Formula</a>(bq.F);
<a name="l00561"></a>00561                     Term bf = z3.<a class="code" href="class_microsoft_1_1_z3_1_1_context.html#a8d71f67aa7ad851c2aa1ed5693737a77" title="Create an expression representing t[0] and t[1] and ....">MkAnd</a>(<span class="keyword">new</span> Term[]{z3.<a class="code" href="class_microsoft_1_1_z3_1_1_context.html#abc7813b246aa0a214b58d61f742f0808" title="Create an expression representing t[0] or t[1] or ....">MkOr</a>(bounds.ToArray()),divs,f});
<a name="l00562"></a>00562                     <span class="keywordflow">return</span> bf;
<a name="l00563"></a>00563                 }
<a name="l00564"></a>00564                 <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentException(<span class="stringliteral">&quot;Conversion is not supported&quot;</span>);
<a name="l00565"></a>00565             }
<a name="l00566"></a>00566         }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3daa7394088d49195c7ba5beb7768924"></a><!-- doxytag: member="PA::Solver::ToZ3Term" ref="a3daa7394088d49195c7ba5beb7768924" args="(LinearTerm t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Term ToZ3Term </td>
          <td>(</td>
          <td class="paramtype">LinearTerm&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Convert the given linear term to a Z3 term. </p>

<p>Definition at line <a class="el" href="_power_pack_2_p_a_solver_2_p_a_solver_2_solver_8cs_source.html#l00480">480</a> of file <a class="el" href="_power_pack_2_p_a_solver_2_p_a_solver_2_solver_8cs_source.html">Solver.cs</a>.</p>

<p>Referenced by <a class="el" href="_power_pack_2_p_a_solver_2_p_a_solver_2_solver_8cs_source.html#l00515">Solver::ToZ3Formula()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00481"></a>00481         {
<a name="l00482"></a>00482 
<a name="l00483"></a>00483             Term c = z3.<a class="code" href="class_microsoft_1_1_z3_1_1_context.html#ac9d2339a750d5ea92b6ec341d2b308c8" title="Create a Term of a given sort.">MkNumeral</a>(t.Constant, intSort);
<a name="l00484"></a>00484             <span class="keywordflow">if</span> (t.IsConstant)
<a name="l00485"></a>00485                 <span class="keywordflow">return</span> z3.<a class="code" href="class_microsoft_1_1_z3_1_1_context.html#ac9d2339a750d5ea92b6ec341d2b308c8" title="Create a Term of a given sort.">MkNumeral</a>(t.Constant, intSort);
<a name="l00486"></a>00486             Term[] args;
<a name="l00487"></a>00487             <span class="keywordtype">int</span> i = 0;
<a name="l00488"></a>00488             <span class="keywordflow">if</span> (t.Constant == 0)
<a name="l00489"></a>00489             {
<a name="l00490"></a>00490                 args = <span class="keyword">new</span> Term[t.NumberOfVariables];
<a name="l00491"></a>00491             }
<a name="l00492"></a>00492             <span class="keywordflow">else</span>
<a name="l00493"></a>00493             {
<a name="l00494"></a>00494                 args = <span class="keyword">new</span> Term[t.NumberOfVariables + 1];
<a name="l00495"></a>00495                 args[0] = z3.<a class="code" href="class_microsoft_1_1_z3_1_1_context.html#ac9d2339a750d5ea92b6ec341d2b308c8" title="Create a Term of a given sort.">MkNumeral</a>(t.Constant, intSort);
<a name="l00496"></a>00496                 i = 1;
<a name="l00497"></a>00497             }
<a name="l00498"></a>00498             <span class="keywordflow">foreach</span> (VarType x <span class="keywordflow">in</span> t.Variables)
<a name="l00499"></a>00499             {
<a name="l00500"></a>00500                 args[i++] = z3.<a class="code" href="class_microsoft_1_1_z3_1_1_context.html#a98a8b6f47bf9d264c62c3b58bebdc554" title="Create an expression representing t[0] * t[1] * ....">MkMul</a>(z3.<a class="code" href="class_microsoft_1_1_z3_1_1_context.html#ac9d2339a750d5ea92b6ec341d2b308c8" title="Create a Term of a given sort.">MkNumeral</a>(t.Coefficient(x), intSort), z3Var(x));
<a name="l00501"></a>00501             }
<a name="l00502"></a>00502             <span class="keywordflow">return</span> z3.<a class="code" href="class_microsoft_1_1_z3_1_1_context.html#aa1fd6d8365b9c75df1a6aee5f3257c93" title="Create an expression representing t[0] + t[1] + ....">MkAdd</a>(args);
<a name="l00503"></a>00503         }
</pre></div></p>

</div>
</div>
</div>
<div class="tabs"></div>
<address style="text-align: right;">
Last modified Thu Aug 9 16:34:49 2012
</BODY>
</HTML>
